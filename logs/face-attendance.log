2025-07-05 00:29:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:29:14 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-05 00:29:14 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 915F50D5F0CE8E47F0C194F24EC628D2
2025-07-05 00:29:14 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/khoa?continue to session
2025-07-05 00:29:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-05 00:29:14 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-05 00:29:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-05 00:29:14 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-05 00:29:14 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-05 00:29:14 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-05 00:29:14 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-05 00:29:14 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-05 00:29:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:29:14 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-05 00:29:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:29:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-07-05 00:29:14 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-05 00:29:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-07-05 00:29:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-07-05 00:29:16 [http-nio-8080-exec-9] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-07-05 00:29:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-05 00:29:16 [http-nio-8080-exec-9] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-07-05 00:29:16 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-07-05 00:29:16 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Invalidating session with Id '554C19CC3375333EB2832C449917CA93' and migrating attributes.
2025-07-05 00:29:16 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Started new session: 1A0DA1932B855BCFD1BB931DA519D8B5
2025-07-05 00:29:16 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Changed session id from 554C19CC3375333EB2832C449917CA93
2025-07-05 00:29:16 [http-nio-8080-exec-9] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 1A0DA1932B855BCFD1BB931DA519D8B5, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353
2025-07-05 00:29:16 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@55142e72]
2025-07-05 00:29:16 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]
2025-07-05 00:29:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-05 00:29:16 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:29:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-05 00:29:16 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-05 00:29:16 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]
2025-07-05 00:29:16 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-05 00:29:16 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-05 00:29:16 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-05 00:29:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-05 00:29:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:29:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:29:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:29:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-05 00:29:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:29:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:29:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:29:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-05 00:29:16 [http-nio-8080-exec-2] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-05 00:29:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-05 00:29:16 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 58, Lecturers: 5, Classes: 3, Attendance: 0
2025-07-05 00:29:16 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-05 00:29:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:29:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:29:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:29:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-05 00:29:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:29:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:29:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-05 00:29:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:29:16 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:29:16 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:29:16 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:29:16 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:29:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:29:18 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:29:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:29:18 [http-nio-8080-exec-5] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:29:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:29:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:29:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:29:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:29:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:29:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:29:18 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:29:18 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:29:18 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:29:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-07-05 00:29:18 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:29:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-07-05 00:29:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-07-05 00:29:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-07-05 00:29:44 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:29:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-07-05 00:29:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-07-05 00:29:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:29:54 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:29:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:29:54 [http-nio-8080-exec-10] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:29:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:29:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:29:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:29:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:29:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:29:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:29:54 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:29:54 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:29:54 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:29:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-07-05 00:29:54 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:29:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-07-05 00:29:54 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-07-05 00:30:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:30:03 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:30:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:30:03 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:30:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:30:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:30:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:30:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:30:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:30:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:30:03 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:30:03 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:30:03 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:30:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-07-05 00:30:03 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:30:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-07-05 00:30:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-07-05 00:30:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:30:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:30:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:30:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:30:18 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:30:18 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:30:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-05 00:30:18 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:30:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-05 00:30:18 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-05 00:31:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?message=logout_success
2025-07-05 00:31:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?message=logout_success
2025-07-05 00:31:04 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:04 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-05 00:31:04 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Authentication present: true
2025-07-05 00:31:04 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Is authenticated: true
2025-07-05 00:31:04 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - User already authenticated with role: ADMIN, redirecting to: /admin/dashboard
2025-07-05 00:31:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-05 00:31:04 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-05 00:31:04 [http-nio-8080-exec-1] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-05 00:31:04 [http-nio-8080-exec-1] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]
2025-07-05 00:31:04 [http-nio-8080-exec-1] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-05 00:31:04 [http-nio-8080-exec-1] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-05 00:31:04 [http-nio-8080-exec-1] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-05 00:31:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-05 00:31:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:31:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:31:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:31:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-05 00:31:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:31:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:31:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:31:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-05 00:31:04 [http-nio-8080-exec-1] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-05 00:31:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-05 00:31:04 [http-nio-8080-exec-1] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 58, Lecturers: 5, Classes: 3, Attendance: 0
2025-07-05 00:31:04 [http-nio-8080-exec-1] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-05 00:31:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:31:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:31:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:31:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:31:04 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:04 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-05 00:31:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:31:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-05 00:31:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:31:04 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:04 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?message=logout_success
2025-07-05 00:31:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?message=logout_success
2025-07-05 00:31:05 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:05 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-05 00:31:05 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Authentication present: true
2025-07-05 00:31:05 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Is authenticated: true
2025-07-05 00:31:05 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - User already authenticated with role: ADMIN, redirecting to: /admin/dashboard
2025-07-05 00:31:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-05 00:31:05 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-05 00:31:05 [http-nio-8080-exec-4] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-05 00:31:05 [http-nio-8080-exec-4] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]
2025-07-05 00:31:05 [http-nio-8080-exec-4] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-05 00:31:05 [http-nio-8080-exec-4] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-05 00:31:05 [http-nio-8080-exec-4] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-05 00:31:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-05 00:31:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:31:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:31:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:31:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-05 00:31:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:31:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:31:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:31:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-05 00:31:05 [http-nio-8080-exec-4] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-05 00:31:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-05 00:31:05 [http-nio-8080-exec-4] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 58, Lecturers: 5, Classes: 3, Attendance: 0
2025-07-05 00:31:05 [http-nio-8080-exec-4] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-05 00:31:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:31:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:31:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:31:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:31:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-05 00:31:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:31:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:31:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-05 00:31:05 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:05 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:05 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:05 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?message=logout_success
2025-07-05 00:31:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?message=logout_success
2025-07-05 00:31:07 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:07 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-05 00:31:07 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Authentication present: true
2025-07-05 00:31:07 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Is authenticated: true
2025-07-05 00:31:07 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - User already authenticated with role: ADMIN, redirecting to: /admin/dashboard
2025-07-05 00:31:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-05 00:31:07 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-05 00:31:07 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-05 00:31:07 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]
2025-07-05 00:31:07 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-05 00:31:07 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-05 00:31:07 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-05 00:31:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-05 00:31:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:31:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:31:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:31:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-05 00:31:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:31:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:31:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:31:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-05 00:31:07 [http-nio-8080-exec-9] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-05 00:31:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-05 00:31:07 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 58, Lecturers: 5, Classes: 3, Attendance: 0
2025-07-05 00:31:07 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-05 00:31:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:31:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:31:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:31:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:31:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-05 00:31:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:31:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:31:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-05 00:31:07 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:07 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:07 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:07 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-05 00:31:29 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-05 00:31:29 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-05 00:31:29 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]
2025-07-05 00:31:29 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-05 00:31:29 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-05 00:31:29 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-05 00:31:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-05 00:31:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:31:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:31:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:31:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-05 00:31:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:31:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:31:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:31:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-05 00:31:29 [http-nio-8080-exec-6] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-05 00:31:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-05 00:31:29 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 58, Lecturers: 5, Classes: 3, Attendance: 0
2025-07-05 00:31:29 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-05 00:31:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:31:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:31:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:31:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:31:29 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:29 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-05 00:31:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:31:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-05 00:31:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:31:29 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:29 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /logout
2025-07-05 00:31:31 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:31 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.logout.LogoutFilter - Logging out [UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1dae0353, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=554C19CC3375333EB2832C449917CA93], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:31 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.l.SecurityContextLogoutHandler - Invalidated session 1A0DA1932B855BCFD1BB931DA519D8B5
2025-07-05 00:31:31 [http-nio-8080-exec-9] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /?message=logout_success
2025-07-05 00:31:31 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?message=logout_success
2025-07-05 00:31:31 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-05 00:31:31 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?message=logout_success
2025-07-05 00:31:31 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-05 00:31:31 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-05 00:31:31 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-05 00:31:31 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Success message: logout_success
2025-07-05 00:31:31 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-05 00:31:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:31:31 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-05 00:31:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:31:31 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-07-05 00:31:31 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-05 00:31:31 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-07-05 00:31:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-07-05 00:31:36 [http-nio-8080-exec-8] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-07-05 00:31:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-05 00:31:36 [http-nio-8080-exec-8] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-07-05 00:31:36 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-07-05 00:31:36 [http-nio-8080-exec-8] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session AF2BB2B4E67C0AFC2DC8CC6E98DE89B7, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373
2025-07-05 00:31:36 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@27c02fb7]
2025-07-05 00:31:36 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-07-05 00:31:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-05 00:31:36 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-05 00:31:36 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-05 00:31:36 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-07-05 00:31:36 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-05 00:31:36 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-05 00:31:36 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-05 00:31:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-05 00:31:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:31:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:31:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:31:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-05 00:31:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:31:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:31:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:31:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-05 00:31:36 [http-nio-8080-exec-6] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-05 00:31:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-05 00:31:36 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 58, Lecturers: 5, Classes: 3, Attendance: 0
2025-07-05 00:31:36 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-05 00:31:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:31:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:31:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-05 00:31:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:31:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:31:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-05 00:31:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:31:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:31:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:36 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:36 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:36 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:38 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:31:38 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:38 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:31:38 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:31:38 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:31:38 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:31:38 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:38 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:31:38 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:31:38 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:38 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:31:38 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:31:38 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:38 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-07-05 00:31:38 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:31:38 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-07-05 00:31:38 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-07-05 00:37:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:37:05 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:37:05 [http-nio-8080-exec-1] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:37:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:37:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:37:05 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:37:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:37:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:37:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:37:05 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:05 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /logout
2025-07-05 00:37:12 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:12 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.logout.LogoutFilter - Logging out [UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@360db373, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:12 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.l.SecurityContextLogoutHandler - Invalidated session AF2BB2B4E67C0AFC2DC8CC6E98DE89B7
2025-07-05 00:37:12 [http-nio-8080-exec-10] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /?message=logout_success
2025-07-05 00:37:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?message=logout_success
2025-07-05 00:37:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-05 00:37:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?message=logout_success
2025-07-05 00:37:12 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-05 00:37:12 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-05 00:37:12 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-05 00:37:12 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Success message: logout_success
2025-07-05 00:37:12 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-05 00:37:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:37:12 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-05 00:37:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:37:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-07-05 00:37:12 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-05 00:37:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-07-05 00:37:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-07-05 00:37:14 [http-nio-8080-exec-7] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-07-05 00:37:14 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-05 00:37:14 [http-nio-8080-exec-7] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-07-05 00:37:14 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-07-05 00:37:14 [http-nio-8080-exec-7] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 11E024096678E6823489DE6BF4732218, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14
2025-07-05 00:37:14 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@29801f03]
2025-07-05 00:37:14 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-07-05 00:37:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-05 00:37:14 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-05 00:37:14 [http-nio-8080-exec-5] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-05 00:37:14 [http-nio-8080-exec-5] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-07-05 00:37:14 [http-nio-8080-exec-5] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-05 00:37:14 [http-nio-8080-exec-5] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-05 00:37:14 [http-nio-8080-exec-5] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-05 00:37:14 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-05 00:37:14 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:37:14 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:37:14 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:37:14 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-05 00:37:14 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:37:14 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:37:14 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:37:14 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-05 00:37:14 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-05 00:37:14 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-05 00:37:14 [http-nio-8080-exec-5] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 58, Lecturers: 5, Classes: 3, Attendance: 0
2025-07-05 00:37:14 [http-nio-8080-exec-5] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-05 00:37:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:37:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:37:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:37:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-05 00:37:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:37:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:37:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:37:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-05 00:37:14 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:14 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:14 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:14 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:37:16 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:37:16 [http-nio-8080-exec-10] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:37:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:37:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:37:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:37:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:37:16 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:37:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:37:16 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:16 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:37:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:37:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:37:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:37:20 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:20 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-05 00:37:20 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-05 00:37:20 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-05 00:37:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:37:28 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:37:28 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:37:28 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:37:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:37:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:37:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:37:28 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:37:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:37:28 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:28 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:28 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-05 00:37:28 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:37:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-05 00:37:28 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-05 00:38:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-07-05 00:38:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-07-05 00:38:07 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:38:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-07-05 00:38:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-07-05 00:38:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-07-05 00:38:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-07-05 00:38:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-07-05 00:38:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-07-05 00:38:07 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:38:07 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:38:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-07-05 00:38:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-07-05 00:38:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-07-05 00:38:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-07-05 00:38:07 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:38:07 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:38:07 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:38:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-07-05 00:38:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-07-05 00:38:07 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:38:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-07-05 00:38:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-07-05 00:38:08 [http-nio-8080-exec-10] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 775 ms
2025-07-05 00:38:08 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:38:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-07-05 00:38:16 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:38:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-07-05 00:38:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-07-05 00:38:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-07-05 00:38:19 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:38:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-07-05 00:38:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-07-05 00:41:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:41:00 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:41:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:41:00 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:41:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:41:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:41:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:41:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:41:00 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:41:00 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:41:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:41:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:41:00 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:41:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:41:03 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:41:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:41:03 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:41:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:41:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:41:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:41:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:41:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:41:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:41:03 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:41:03 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:41:03 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:42:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-05 00:42:21 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:42:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-05 00:42:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:42:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:42:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:42:21 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:42:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /placeholder.svg
2025-07-05 00:42:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:42:21 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:42:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /placeholder.svg
2025-07-05 00:42:21 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:42:21 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource placeholder.svg.]
2025-07-05 00:42:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-05 00:42:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-05 00:42:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:42:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-05 00:42:21 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:42:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-05 00:42:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0
2025-07-05 00:42:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-05 00:42:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:42:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        n1_0.ma_nganh=?
2025-07-05 00:42:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        n1_0.ma_nganh=?
2025-07-05 00:42:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?size=1000
2025-07-05 00:42:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:42:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?size=1000
2025-07-05 00:42:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-05 00:42:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:42:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:42:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:42:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:42:29 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:42:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:42:29 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:42:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:42:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:42:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:42:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:42:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:42:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:42:29 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:42:29 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:42:29 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:48:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:48:52 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:48:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:48:52 [http-nio-8080-exec-4] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:48:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:48:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:48:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:48:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:48:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:48:52 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:48:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:48:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:48:52 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:48:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:48:54 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:48:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:48:54 [http-nio-8080-exec-1] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:48:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:48:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:48:54 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:48:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:48:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:48:54 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:48:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:48:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:48:54 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:49:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-05 00:49:01 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:49:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-05 00:49:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:49:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:49:01 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:49:01 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:49:01 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:49:01 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:49:01 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /placeholder.svg
2025-07-05 00:49:01 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:49:01 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /placeholder.svg
2025-07-05 00:49:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-05 00:49:01 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource placeholder.svg.]
2025-07-05 00:49:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-05 00:49:01 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:49:01 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-05 00:49:01 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:49:01 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-05 00:49:01 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0
2025-07-05 00:49:01 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-05 00:49:01 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:49:01 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        n1_0.ma_nganh=?
2025-07-05 00:49:01 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        n1_0.ma_nganh=?
2025-07-05 00:49:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?size=1000
2025-07-05 00:49:01 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:49:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?size=1000
2025-07-05 00:49:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-05 00:49:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:49:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:49:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:49:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:49:03 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:49:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:49:03 [http-nio-8080-exec-5] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:49:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:49:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:49:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:49:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:49:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:49:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:49:03 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:49:03 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:49:03 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:53 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:51:53 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:53 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:51:53 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:51:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:51:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:51:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:51:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:51:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:51:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:51:54 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:54 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:54 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:51:55 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:51:55 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:51:55 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:51:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:51:55 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:51:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:51:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:51:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:51:55 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:55 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:55 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:51:55 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:51:55 [http-nio-8080-exec-4] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:51:55 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:51:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:51:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:51:55 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:51:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:51:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:51:55 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:55 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:55 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:51:56 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:51:56 [http-nio-8080-exec-5] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:51:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:51:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:51:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:51:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:51:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:51:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:51:56 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:56 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:56 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:51:56 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:51:56 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:51:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:51:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:51:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:51:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:51:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:51:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:51:56 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:56 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2025-07-05 00:51:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2025-07-05 00:51:58 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:58 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-05 00:51:58 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Authentication present: true
2025-07-05 00:51:58 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Is authenticated: true
2025-07-05 00:51:58 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - User already authenticated with role: ADMIN, redirecting to: /admin/dashboard
2025-07-05 00:51:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-05 00:51:58 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-05 00:51:58 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-05 00:51:58 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-07-05 00:51:58 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-05 00:51:58 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-05 00:51:58 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-05 00:51:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-05 00:51:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:51:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:51:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:51:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-05 00:51:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:51:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:51:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:51:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-05 00:51:58 [http-nio-8080-exec-2] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-05 00:51:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-05 00:51:58 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 58, Lecturers: 5, Classes: 3, Attendance: 0
2025-07-05 00:51:58 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-05 00:51:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:51:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:51:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:51:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:51:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-05 00:51:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:51:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:51:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-05 00:51:58 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:58 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:58 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:51:58 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:52:06 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:52:06 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:52:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:52:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:52:06 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:52:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:52:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:52:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:52:06 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:06 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2025-07-05 00:52:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2025-07-05 00:52:08 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:08 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-05 00:52:08 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Authentication present: true
2025-07-05 00:52:08 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Is authenticated: true
2025-07-05 00:52:08 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - User already authenticated with role: ADMIN, redirecting to: /admin/dashboard
2025-07-05 00:52:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-05 00:52:08 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-05 00:52:08 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-05 00:52:08 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-07-05 00:52:08 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-05 00:52:08 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-05 00:52:08 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-05 00:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-05 00:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-05 00:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-05 00:52:08 [http-nio-8080-exec-2] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-05 00:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-05 00:52:08 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 58, Lecturers: 5, Classes: 3, Attendance: 0
2025-07-05 00:52:08 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-05 00:52:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:52:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-05 00:52:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:52:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:52:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:52:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-05 00:52:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:52:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:52:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:08 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:08 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:08 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-05 00:52:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-05 00:52:21 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-05 00:52:21 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-07-05 00:52:21 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-05 00:52:21 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-05 00:52:21 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-05 00:52:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-05 00:52:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-05 00:52:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-05 00:52:21 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-05 00:52:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-05 00:52:21 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 58, Lecturers: 5, Classes: 3, Attendance: 0
2025-07-05 00:52:21 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-05 00:52:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:52:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:52:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:52:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:52:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:52:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-05 00:52:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:52:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-05 00:52:21 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:21 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:21 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-05 00:52:22 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-05 00:52:22 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-05 00:52:22 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-07-05 00:52:22 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-05 00:52:22 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-05 00:52:22 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-05 00:52:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-05 00:52:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-05 00:52:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-05 00:52:22 [http-nio-8080-exec-2] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-05 00:52:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-05 00:52:22 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 58, Lecturers: 5, Classes: 3, Attendance: 0
2025-07-05 00:52:22 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-05 00:52:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:52:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:52:22 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:52:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:52:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:52:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-05 00:52:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-05 00:52:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:52:22 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:22 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:22 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:52:24 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:52:24 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:52:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:52:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:52:24 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:24 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:52:24 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:52:24 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:52:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:52:24 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2025-07-05 00:52:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2025-07-05 00:52:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:26 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-05 00:52:26 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Authentication present: true
2025-07-05 00:52:26 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Is authenticated: true
2025-07-05 00:52:26 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - User already authenticated with role: ADMIN, redirecting to: /admin/dashboard
2025-07-05 00:52:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-05 00:52:26 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-05 00:52:26 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-05 00:52:26 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-07-05 00:52:26 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-05 00:52:26 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-05 00:52:26 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-05 00:52:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-05 00:52:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-05 00:52:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-05 00:52:26 [http-nio-8080-exec-2] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-05 00:52:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-05 00:52:26 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 58, Lecturers: 5, Classes: 3, Attendance: 0
2025-07-05 00:52:26 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-05 00:52:26 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-05 00:52:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:52:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:52:26 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:52:26 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-05 00:52:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:52:26 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:52:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:52:26 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:26 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:26 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:26 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:52:27 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:52:27 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:52:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:52:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:52:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:52:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:52:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:52:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:52:28 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:28 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:28 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2025-07-05 00:52:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2025-07-05 00:52:30 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:30 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-05 00:52:30 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Authentication present: true
2025-07-05 00:52:30 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Is authenticated: true
2025-07-05 00:52:30 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - User already authenticated with role: ADMIN, redirecting to: /admin/dashboard
2025-07-05 00:52:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-05 00:52:30 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-05 00:52:30 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-05 00:52:30 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-07-05 00:52:30 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-05 00:52:30 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-05 00:52:30 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-05 00:52:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-05 00:52:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-05 00:52:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-05 00:52:30 [http-nio-8080-exec-2] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-05 00:52:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-05 00:52:30 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 58, Lecturers: 5, Classes: 3, Attendance: 0
2025-07-05 00:52:30 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-05 00:52:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:52:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:52:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:52:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:52:30 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:52:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:52:30 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:30 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-05 00:52:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-05 00:52:30 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:39 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:52:39 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:39 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:52:39 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:52:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:52:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:52:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:52:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:52:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:52:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:52:39 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:39 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:39 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2025-07-05 00:52:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2025-07-05 00:52:41 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:41 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-05 00:52:41 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Authentication present: true
2025-07-05 00:52:41 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Is authenticated: true
2025-07-05 00:52:41 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - User already authenticated with role: ADMIN, redirecting to: /admin/dashboard
2025-07-05 00:52:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-05 00:52:41 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-05 00:52:41 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-05 00:52:41 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-07-05 00:52:41 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-05 00:52:41 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-05 00:52:41 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-05 00:52:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-05 00:52:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-05 00:52:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-05 00:52:41 [http-nio-8080-exec-2] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-05 00:52:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-05 00:52:41 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 58, Lecturers: 5, Classes: 3, Attendance: 0
2025-07-05 00:52:41 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-05 00:52:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:52:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:52:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-05 00:52:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:52:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:52:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-05 00:52:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:52:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:52:41 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:41 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:41 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-05 00:52:57 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-05 00:52:57 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-05 00:52:57 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-07-05 00:52:57 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-05 00:52:57 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-05 00:52:57 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-05 00:52:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-05 00:52:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=n1_0.ma_khoa 
    where
        l1_0.ma_lop=?
2025-07-05 00:52:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-05 00:52:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:52:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-05 00:52:57 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-05 00:52:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-05 00:52:57 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 58, Lecturers: 5, Classes: 3, Attendance: 0
2025-07-05 00:52:57 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-05 00:52:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:52:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:52:57 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:52:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:52:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:52:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-05 00:52:57 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:52:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-05 00:52:57 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:57 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:52:59 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:52:59 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:52:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:52:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:52:59 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:52:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:52:59 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:52:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:52:59 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-07-05 00:52:59 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:52:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-07-05 00:52:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-07-05 00:53:02 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:53:02 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:53:02 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:53:02 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:53:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:53:02 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:53:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:53:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:53:02 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:53:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:53:02 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:53:02 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:53:02 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:53:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-07-05 00:53:02 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:53:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-07-05 00:53:02 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-07-05 00:53:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/khoa/CNTT
2025-07-05 00:53:05 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:53:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/khoa/CNTT
2025-07-05 00:53:05 [http-nio-8080-exec-2] DEBUG c.t.f.Service.KhoaService - Xóa mềm khoa với ID: CNTT
2025-07-05 00:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    update
        khoa 
    set
        is_active=?,
        ten_khoa=? 
    where
        ma_khoa=?
2025-07-05 00:53:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-07-05 00:53:05 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:53:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-07-05 00:53:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-07-05 00:53:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/khoa
2025-07-05 00:53:41 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:53:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/khoa
2025-07-05 00:53:41 [http-nio-8080-exec-1] DEBUG c.t.f.Service.KhoaService - Tạo khoa mới: KhoaDTO(maKhoa=CNTT, tenKhoa=Kỹ thuật, isActive=true)
2025-07-05 00:53:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:53:41 [http-nio-8080-exec-1] ERROR c.t.f.E.GlobalExceptionHandler - Unhandled exception occurred
java.lang.RuntimeException: Mã khoa đã tồn tại
	at com.tathanhloc.faceattendance.Service.KhoaService.create(KhoaService.java:60)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:430)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:565)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:447)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:409)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.tathanhloc.faceattendance.Service.KhoaService$$SpringCGLIB$$0.create(<generated>)
	at com.tathanhloc.faceattendance.Controller.KhoaController.create(KhoaController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
2025-07-05 00:53:41 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.RuntimeException: Mã khoa đã tồn tại]
2025-07-05 00:53:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/khoa
2025-07-05 00:53:47 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:53:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/khoa
2025-07-05 00:53:47 [http-nio-8080-exec-6] DEBUG c.t.f.Service.KhoaService - Tạo khoa mới: KhoaDTO(maKhoa=CNTT, tenKhoa=Kỹ thuật, isActive=true)
2025-07-05 00:53:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:53:47 [http-nio-8080-exec-6] ERROR c.t.f.E.GlobalExceptionHandler - Unhandled exception occurred
java.lang.RuntimeException: Mã khoa đã tồn tại
	at com.tathanhloc.faceattendance.Service.KhoaService.create(KhoaService.java:60)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:430)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:565)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:447)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:409)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.tathanhloc.faceattendance.Service.KhoaService$$SpringCGLIB$$0.create(<generated>)
	at com.tathanhloc.faceattendance.Controller.KhoaController.create(KhoaController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
2025-07-05 00:53:47 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.RuntimeException: Mã khoa đã tồn tại]
2025-07-05 00:54:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/khoa
2025-07-05 00:54:51 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:54:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/khoa
2025-07-05 00:54:51 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - Admin khoa management access: admin
2025-07-05 00:54:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-05 00:54:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-05 00:54:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-05 00:54:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-05 00:54:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-05 00:54:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-05 00:54:51 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:54:51 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:54:51 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:54:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-07-05 00:54:51 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:54:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-07-05 00:54:51 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-07-05 00:55:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/khoa
2025-07-05 00:55:01 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:55:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/khoa
2025-07-05 00:55:01 [http-nio-8080-exec-5] DEBUG c.t.f.Service.KhoaService - Tạo khoa mới: KhoaDTO(maKhoa=, tenKhoa=Kỹ thuật, isActive=true)
2025-07-05 00:55:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:55:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-05 00:55:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        khoa
        (is_active, ten_khoa, ma_khoa) 
    values
        (?, ?, ?)
2025-07-05 00:55:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-07-05 00:55:01 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@70fded14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-07-05 00:55:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-07-05 00:55:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
