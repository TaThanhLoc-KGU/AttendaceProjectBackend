2025-07-07 06:45:08 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-07 06:45:08 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-07 06:45:08 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 06:45:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-07 06:45:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-07 13:55:24 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24.0.1 with PID 10485 (/home/loki/Desktop/face-attendance/target/classes started by loki in /home/loki/Desktop/face-attendance)
2025-07-07 13:55:24 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-07-07 13:55:24 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-07 13:55:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 13:55:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 20 JPA repository interfaces.
2025-07-07 13:55:24 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-07 13:55:24 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-07 13:55:24 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-07 13:55:24 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-07-07 13:55:24 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-07 13:55:24 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 576 ms
2025-07-07 13:55:24 [restartedMain] WARN  o.a.c.c.C.[.[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [71996F527BA709D1A4A3B8F2300F6EA9]
2025-07-07 13:55:24 [restartedMain] ERROR o.a.catalina.session.StandardManager - Exception loading sessions from persistent storage
java.lang.ClassCastException: class java.io.ObjectStreamClass cannot be cast to class java.lang.String (java.io.ObjectStreamClass and java.lang.String are in module java.base of loader 'bootstrap')
	at java.base/java.io.ObjectInputStream.readTypeString(ObjectInputStream.java:1730)
	at java.base/java.io.ObjectStreamClass.readNonProxy(ObjectStreamClass.java:606)
	at java.base/java.io.ObjectInputStream.readClassDescriptor(ObjectInputStream.java:941)
	at java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1935)
	at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1818)
	at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2134)
	at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1653)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:495)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:453)
	at org.apache.catalina.session.StandardSession.doReadObject(StandardSession.java:1198)
	at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:831)
	at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:210)
	at org.apache.catalina.session.StandardManager.load(StandardManager.java:156)
	at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:345)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4494)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:18)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-07-07 13:55:25 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 13:55:25 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 13:55:25 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 13:55:25 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-56 - Starting...
2025-07-07 13:55:25 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-56 - Added connection com.mysql.cj.jdbc.ConnectionImpl@e69f2b7
2025-07-07 13:55:25 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-56 - Start completed.
2025-07-07 13:55:25 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-07-07 13:55:25 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-56)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-07 13:55:25 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 13:55:25 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 13:55:25 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 13:55:25 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-07-07 13:55:26 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 13:55:26 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-07-07 13:55:26 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-07 13:55:26 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-07 13:55:27 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-07 13:55:27 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-07 13:55:27 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-07 13:55:27 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 2.875 seconds (process running for 11638.615)
2025-07-07 13:55:27 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 13:55:27 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-07 13:55:29 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-07-07 13:55:29 [Thread-205] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-07 13:55:29 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-07-07 13:55:29 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-07 13:55:29 [Thread-205] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-07 13:55:29 [Thread-205] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 13:55:29 [Thread-205] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-56 - Shutdown initiated...
2025-07-07 13:55:29 [Thread-205] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-56 - Shutdown completed.
2025-07-07 13:55:29 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24.0.1 with PID 10485 (/home/loki/Desktop/face-attendance/target/classes started by loki in /home/loki/Desktop/face-attendance)
2025-07-07 13:55:29 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-07-07 13:55:29 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-07 13:55:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 13:55:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 20 JPA repository interfaces.
2025-07-07 13:55:30 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-07 13:55:30 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-07 13:55:30 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-07 13:55:30 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-07-07 13:55:30 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-07 13:55:30 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 415 ms
2025-07-07 13:55:30 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 13:55:30 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 13:55:30 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 13:55:30 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-57 - Starting...
2025-07-07 13:55:30 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-57 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2f34163f
2025-07-07 13:55:30 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-57 - Start completed.
2025-07-07 13:55:30 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-07-07 13:55:30 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-57)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-07 13:55:30 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 13:55:30 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 13:55:30 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 13:55:30 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-07-07 13:55:31 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 13:55:31 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-07-07 13:55:31 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-07 13:55:31 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-07 13:55:31 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-07 13:55:31 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-07 13:55:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-07 13:55:31 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 2.305 seconds (process running for 11643.378)
2025-07-07 13:55:31 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 13:55:31 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-07 13:56:33 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (2 additions, 0 deletions, 0 modifications)
2025-07-07 13:56:33 [Thread-209] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-07 13:56:33 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-07-07 13:56:33 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-07 13:56:33 [Thread-209] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-07 13:56:33 [Thread-209] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 13:56:33 [Thread-209] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-57 - Shutdown initiated...
2025-07-07 13:56:33 [Thread-209] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-57 - Shutdown completed.
2025-07-07 13:56:33 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24.0.1 with PID 10485 (/home/loki/Desktop/face-attendance/target/classes started by loki in /home/loki/Desktop/face-attendance)
2025-07-07 13:56:33 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-07-07 13:56:33 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-07 13:56:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 13:56:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 20 JPA repository interfaces.
2025-07-07 13:56:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-07 13:56:33 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-07 13:56:33 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-07 13:56:33 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-07-07 13:56:33 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-07 13:56:33 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 408 ms
2025-07-07 13:56:33 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 13:56:33 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 13:56:33 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 13:56:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-58 - Starting...
2025-07-07 13:56:33 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-58 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4fa26108
2025-07-07 13:56:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-58 - Start completed.
2025-07-07 13:56:33 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-07-07 13:56:33 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-58)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-07 13:56:33 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 13:56:33 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 13:56:34 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 13:56:34 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-07-07 13:56:34 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: scripts/face_recognition/extract_wrapper.py
2025-07-07 13:56:34 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: scripts/face_recognition/run_extraction.sh
2025-07-07 13:56:34 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: scripts/face_recognition
2025-07-07 13:56:34 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 13:56:34 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-07-07 13:56:34 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-07 13:56:35 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-07 13:56:35 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-07 13:56:35 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-07 13:56:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-07 13:56:35 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 2.17 seconds (process running for 11706.834)
2025-07-07 13:56:35 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 13:56:35 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-07 14:14:12 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-07 14:14:12 [Thread-213] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-07 14:14:12 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-07-07 14:14:12 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-07 14:14:12 [Thread-213] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-07 14:14:12 [Thread-213] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 14:14:12 [Thread-213] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-58 - Shutdown initiated...
2025-07-07 14:14:12 [Thread-213] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-58 - Shutdown completed.
2025-07-07 14:14:13 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24.0.1 with PID 10485 (/home/loki/Desktop/face-attendance/target/classes started by loki in /home/loki/Desktop/face-attendance)
2025-07-07 14:14:13 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-07-07 14:14:13 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-07 14:14:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 14:14:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 20 JPA repository interfaces.
2025-07-07 14:14:13 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-07 14:14:13 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-07 14:14:13 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-07 14:14:13 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-07-07 14:14:13 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-07 14:14:13 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 715 ms
2025-07-07 14:14:13 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 14:14:13 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 14:14:13 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 14:14:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-59 - Starting...
2025-07-07 14:14:13 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-59 - Added connection com.mysql.cj.jdbc.ConnectionImpl@73327a15
2025-07-07 14:14:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-59 - Start completed.
2025-07-07 14:14:13 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-07-07 14:14:13 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-59)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-07 14:14:14 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 14:14:14 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 14:14:14 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 14:14:14 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-07-07 14:14:14 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: scripts/face_recognition/extract_wrapper.py
2025-07-07 14:14:14 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: scripts/face_recognition/run_extraction.sh
2025-07-07 14:14:14 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: scripts/face_recognition
2025-07-07 14:14:15 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 14:14:15 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-07-07 14:14:15 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-07 14:14:15 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-07 14:14:15 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-07 14:14:15 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-07 14:14:15 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-07 14:14:15 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 2.797 seconds (process running for 12767.288)
2025-07-07 14:14:15 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 14:14:15 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-07 14:22:20 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-07 14:22:20 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-07 14:22:20 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-07-07 14:22:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 14:22:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:22:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 71996F527BA709D1A4A3B8F2300F6EA9
2025-07-07 14:22:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/sinhvien?continue to session
2025-07-07 14:22:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 14:22:20 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:22:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 14:22:20 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 14:22:20 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 14:22:20 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 14:22:20 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 14:22:20 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 14:22:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 14:22:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-07-07 14:22:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:22:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:22:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-07-07 14:22:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 14:22:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:22:21 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:22:21 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json?continue to session
2025-07-07 14:22:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 14:22:21 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:22:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 14:22:21 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 14:22:21 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 14:22:21 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 14:22:21 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 14:22:21 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 14:22:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-07-07 14:22:22 [http-nio-8080-exec-7] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-07-07 14:22:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 14:22:22 [http-nio-8080-exec-7] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-07-07 14:22:23 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-07-07 14:22:23 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Invalidating session with Id 'A8FE80E328404B3FFCE6F9BEF209EB6F' and migrating attributes.
2025-07-07 14:22:23 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Started new session: B4C1FDF13FDE14AFE56B82820C08E924
2025-07-07 14:22:23 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Changed session id from A8FE80E328404B3FFCE6F9BEF209EB6F
2025-07-07 14:22:23 [http-nio-8080-exec-7] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session B4C1FDF13FDE14AFE56B82820C08E924, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65
2025-07-07 14:22:23 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@197c8430]
2025-07-07 14:22:23 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]
2025-07-07 14:22:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-07 14:22:23 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-07 14:22:23 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-07 14:22:23 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]
2025-07-07 14:22:23 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-07 14:22:23 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-07 14:22:23 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-07 14:22:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-07 14:22:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:22:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:22:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:22:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:22:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-07 14:22:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:22:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:22:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:22:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-07 14:22:23 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-07 14:22:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-07 14:22:23 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 5, Classes: 4, Attendance: 0
2025-07-07 14:22:23 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-07 14:22:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:22:23 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:22:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 14:22:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 14:22:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-07 14:22:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 14:22:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 14:22:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-07 14:22:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 14:22:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 14:22:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 14:22:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 14:22:23 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:23 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:23 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:23 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:23 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 14:22:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 14:22:23 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:23 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 14:22:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 14:22:23 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 14:22:23 [http-nio-8080-exec-6] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 14:22:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 14:22:26 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 14:22:26 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:22:26 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:26 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:22:26 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 14:22:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 14:22:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 14:22:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 14:22:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 14:22:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 14:22:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 14:22:26 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 14:22:26 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 14:22:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 14:22:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 14:22:26 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:26 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:26 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 14:22:26 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 14:22:26 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:26 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:26 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 14:22:26 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 14:22:26 [http-nio-8080-exec-5] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 14:22:26 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 14:22:26 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 14:22:26 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:22:26 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 14:22:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 14:22:26 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:22:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 14:22:26 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 14:22:26 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:22:26 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:22:26 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:22:26 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 14:22:26 [http-nio-8080-exec-6] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-07 14:23:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/sinhvien/extract-features-all
2025-07-07 14:23:03 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@416edb65, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A8FE80E328404B3FFCE6F9BEF209EB6F], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:23:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/sinhvien/extract-features-all
2025-07-07 14:23:03 [http-nio-8080-exec-7] WARN  o.s.web.servlet.PageNotFound - Request method 'POST' is not supported
2025-07-07 14:23:03 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2025-07-07 14:24:34 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-07 14:24:34 [Thread-217] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-07 14:24:34 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-07-07 14:24:34 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-07 14:24:34 [Thread-217] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-07 14:24:34 [Thread-217] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 14:24:34 [Thread-217] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-59 - Shutdown initiated...
2025-07-07 14:24:34 [Thread-217] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-59 - Shutdown completed.
2025-07-07 14:24:34 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24.0.1 with PID 10485 (/home/loki/Desktop/face-attendance/target/classes started by loki in /home/loki/Desktop/face-attendance)
2025-07-07 14:24:34 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-07-07 14:24:34 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-07 14:24:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 14:24:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 20 JPA repository interfaces.
2025-07-07 14:24:34 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-07 14:24:34 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-07 14:24:34 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-07 14:24:34 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-07-07 14:24:34 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-07 14:24:34 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 653 ms
2025-07-07 14:24:35 [restartedMain] WARN  o.a.c.c.C.[.[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [B4C1FDF13FDE14AFE56B82820C08E924]
2025-07-07 14:24:35 [restartedMain] ERROR o.a.catalina.session.StandardManager - Exception loading sessions from persistent storage
java.lang.ClassCastException: class java.io.ObjectStreamClass cannot be cast to class java.lang.String (java.io.ObjectStreamClass and java.lang.String are in module java.base of loader 'bootstrap')
	at java.base/java.io.ObjectInputStream.readTypeString(ObjectInputStream.java:1730)
	at java.base/java.io.ObjectStreamClass.readNonProxy(ObjectStreamClass.java:606)
	at java.base/java.io.ObjectInputStream.readClassDescriptor(ObjectInputStream.java:941)
	at java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1935)
	at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1818)
	at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2134)
	at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1653)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:495)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:453)
	at org.apache.catalina.session.StandardSession.doReadObject(StandardSession.java:1198)
	at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:831)
	at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:210)
	at org.apache.catalina.session.StandardManager.load(StandardManager.java:156)
	at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:345)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4494)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:18)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-07-07 14:24:35 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 14:24:35 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 14:24:35 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 14:24:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-60 - Starting...
2025-07-07 14:24:35 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-60 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f99a434
2025-07-07 14:24:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-60 - Start completed.
2025-07-07 14:24:35 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-07-07 14:24:35 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-60)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-07 14:24:35 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 14:24:35 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 14:24:36 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 14:24:36 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-07-07 14:24:36 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: scripts/face_recognition/extract_wrapper.py
2025-07-07 14:24:36 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: scripts/face_recognition/run_extraction.sh
2025-07-07 14:24:36 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: scripts/face_recognition
2025-07-07 14:24:36 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 14:24:36 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-07-07 14:24:36 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-07 14:24:36 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-07 14:24:37 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-07 14:24:37 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-07 14:24:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-07 14:24:37 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 2.924 seconds (process running for 13388.633)
2025-07-07 14:24:37 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 14:24:37 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-07 14:24:56 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-07 14:24:56 [Thread-221] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-07 14:24:56 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-07-07 14:24:56 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-07 14:24:56 [Thread-221] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-07 14:24:56 [Thread-221] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 14:24:56 [Thread-221] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-60 - Shutdown initiated...
2025-07-07 14:24:56 [Thread-221] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-60 - Shutdown completed.
2025-07-07 14:24:56 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24.0.1 with PID 10485 (/home/loki/Desktop/face-attendance/target/classes started by loki in /home/loki/Desktop/face-attendance)
2025-07-07 14:24:56 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-07-07 14:24:56 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-07 14:24:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 14:24:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 20 JPA repository interfaces.
2025-07-07 14:24:57 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-07 14:24:57 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-07 14:24:57 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-07 14:24:57 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-07-07 14:24:57 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-07 14:24:57 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 442 ms
2025-07-07 14:24:57 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 14:24:57 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 14:24:57 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 14:24:57 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-61 - Starting...
2025-07-07 14:24:57 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-61 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6e7d2f25
2025-07-07 14:24:57 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-61 - Start completed.
2025-07-07 14:24:57 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-07-07 14:24:57 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-61)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-07 14:24:57 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 14:24:57 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 14:24:57 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 14:24:57 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-07-07 14:24:58 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: scripts/face_recognition/extract_wrapper.py
2025-07-07 14:24:58 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: scripts/face_recognition/run_extraction.sh
2025-07-07 14:24:58 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: scripts/face_recognition
2025-07-07 14:24:58 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 14:24:58 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-07-07 14:24:58 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-07 14:24:58 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-07 14:24:58 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-07 14:24:58 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-07 14:24:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-07 14:24:58 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 2.204 seconds (process running for 13410.409)
2025-07-07 14:24:58 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 14:24:58 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-07 14:27:19 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-07 14:27:19 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-07 14:27:19 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-07 14:27:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 14:27:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:27:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B4C1FDF13FDE14AFE56B82820C08E924
2025-07-07 14:27:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/sinhvien?continue to session
2025-07-07 14:27:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 14:27:19 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:27:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 14:27:19 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 14:27:19 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 14:27:19 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 14:27:19 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 14:27:19 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 14:27:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:27:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:27:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json?continue to session
2025-07-07 14:27:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 14:27:19 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:27:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-07-07 14:27:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 14:27:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 14:27:19 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:27:19 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:27:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 14:27:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-07-07 14:27:19 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 14:27:19 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 14:27:19 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 14:27:19 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 14:27:19 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 14:27:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-07-07 14:27:21 [http-nio-8080-exec-7] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-07-07 14:27:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 14:27:21 [http-nio-8080-exec-7] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-07-07 14:27:21 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-07-07 14:27:21 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Invalidating session with Id 'EFF4FC15A5DB272508959CBE6850672A' and migrating attributes.
2025-07-07 14:27:21 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Started new session: E928DF431C9B90BCD17D8C42786C35E6
2025-07-07 14:27:21 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Changed session id from EFF4FC15A5DB272508959CBE6850672A
2025-07-07 14:27:21 [http-nio-8080-exec-7] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session E928DF431C9B90BCD17D8C42786C35E6, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36
2025-07-07 14:27:21 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@71ffe544]
2025-07-07 14:27:21 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]
2025-07-07 14:27:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-07 14:27:21 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-07 14:27:21 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-07 14:27:21 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]
2025-07-07 14:27:21 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-07 14:27:21 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-07 14:27:21 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-07 14:27:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-07 14:27:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:27:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:27:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:27:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:27:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-07 14:27:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:27:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:27:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:27:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-07 14:27:21 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-07 14:27:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-07 14:27:21 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 5, Classes: 4, Attendance: 0
2025-07-07 14:27:21 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-07 14:27:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:27:21 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:27:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 14:27:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 14:27:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-07 14:27:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 14:27:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 14:27:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 14:27:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 14:27:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-07 14:27:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 14:27:21 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 14:27:21 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:21 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:21 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 14:27:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 14:27:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 14:27:21 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 14:27:22 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 14:27:22 [http-nio-8080-exec-6] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 14:27:24 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 14:27:24 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:24 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 14:27:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:27:24 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:27:24 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 14:27:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 14:27:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 14:27:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 14:27:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 14:27:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 14:27:24 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 14:27:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 14:27:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 14:27:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 14:27:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 14:27:24 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:24 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:24 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:24 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 14:27:24 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 14:27:24 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:24 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:24 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 14:27:24 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 14:27:24 [http-nio-8080-exec-9] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 14:27:24 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 14:27:24 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 14:27:24 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:27:24 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 14:27:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 14:27:24 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 14:27:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 14:27:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:27:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:27:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:27:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 14:27:24 [http-nio-8080-exec-6] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-07 14:27:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 14:27:35 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 14:27:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:27:35 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:27:35 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 14:27:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 14:27:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 14:27:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 14:27:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 14:27:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 14:27:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 14:27:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 14:27:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 14:27:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 14:27:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 14:27:35 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:35 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:35 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:35 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 14:27:35 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 14:27:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 14:27:35 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 14:27:35 [http-nio-8080-exec-9] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 14:27:35 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 14:27:35 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 14:27:35 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:27:35 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 14:27:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 14:27:35 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:27:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 14:27:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 14:27:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:27:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:27:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:27:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 14:28:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 14:28:34 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 14:28:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 14:28:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 14:28:34 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 14:28:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 14:28:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 14:28:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 14:28:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 14:28:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 14:28:34 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 14:28:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 14:28:34 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:34 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:34 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:34 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 14:28:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 14:28:34 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:34 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 14:28:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 14:28:34 [http-nio-8080-exec-1] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 14:28:34 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 14:28:34 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 14:28:34 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:28:34 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 14:28:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 14:28:34 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 14:28:34 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 14:28:34 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:28:34 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:28:34 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:28:34 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 14:28:38 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/sinhvien/extract-features-all
2025-07-07 14:28:38 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:38 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/sinhvien/extract-features-all
2025-07-07 14:28:38 [http-nio-8080-exec-7] WARN  o.s.web.servlet.PageNotFound - Request method 'POST' is not supported
2025-07-07 14:28:38 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2025-07-07 14:28:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 14:28:51 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 14:28:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 14:28:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 14:28:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 14:28:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 14:28:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 14:28:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 14:28:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 14:28:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 14:28:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 14:28:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 14:28:51 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:51 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:51 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:51 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:51 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 14:28:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 14:28:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:51 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 14:28:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 14:28:51 [http-nio-8080-exec-9] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 14:28:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 14:28:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 14:28:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:28:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 14:28:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 14:28:51 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 14:28:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 14:28:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:28:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:28:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:28:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 14:28:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 14:28:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 14:28:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 14:28:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 14:28:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 14:28:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 14:28:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 14:28:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 14:28:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 14:28:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 14:28:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 14:28:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 14:28:52 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:52 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:52 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:52 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 14:28:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 14:28:52 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:52 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 14:28:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 14:28:52 [http-nio-8080-exec-3] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 14:28:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 14:28:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 14:28:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:28:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 14:28:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 14:28:52 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:28:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 14:28:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 14:28:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:28:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:28:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:28:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 14:29:00 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/python/extract-all
2025-07-07 14:29:00 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/python/extract-all
2025-07-07 14:29:00 [http-nio-8080-exec-6] INFO  c.t.f.C.PythonFeatureExtractionController - Request to extract features for all students
2025-07-07 14:29:00 [ForkJoinPool.commonPool-worker-12] INFO  c.t.f.S.PythonFeatureExtractionService - Running command: bash scripts/face_recognition/run_extraction.sh all
2025-07-07 14:29:00 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:00 [ForkJoinPool.commonPool-worker-12] DEBUG c.t.f.S.PythonFeatureExtractionService - Python output: bash: scripts/face_recognition/run_extraction.sh: No such file or directory
2025-07-07 14:29:00 [ForkJoinPool.commonPool-worker-12] ERROR c.t.f.S.PythonFeatureExtractionService - Error in async extraction: Python script failed with exit code: 127
2025-07-07 14:29:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 14:29:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 14:29:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 14:29:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 14:29:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 14:29:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 14:29:09 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:09 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:09 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:29:09 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:29:09 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 14:29:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/python/stop
2025-07-07 14:29:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/python/stop
2025-07-07 14:29:15 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/check-environment
2025-07-07 14:29:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/check-environment
2025-07-07 14:29:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/check-environment
2025-07-07 14:29:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/check-environment
2025-07-07 14:29:31 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/python/stop
2025-07-07 14:29:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/python/stop
2025-07-07 14:29:35 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/check-environment
2025-07-07 14:29:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/check-environment
2025-07-07 14:29:39 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 14:29:42 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 14:29:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 14:29:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 14:29:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 14:29:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 14:29:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 14:29:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 14:29:42 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 14:29:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 14:29:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 14:29:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 14:29:42 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:42 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:29:42 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:29:42 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 14:29:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 14:29:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 14:29:42 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:42 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 14:29:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 14:29:42 [http-nio-8080-exec-3] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 14:29:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 14:29:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 14:29:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:29:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 14:29:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 14:29:42 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 14:29:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 14:29:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:29:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:29:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:29:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 14:29:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/python/extract-all
2025-07-07 14:29:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/python/extract-all
2025-07-07 14:29:52 [http-nio-8080-exec-6] INFO  c.t.f.C.PythonFeatureExtractionController - Request to extract features for all students
2025-07-07 14:29:52 [ForkJoinPool.commonPool-worker-12] INFO  c.t.f.S.PythonFeatureExtractionService - Running command: bash scripts/face_recognition/run_extraction.sh all
2025-07-07 14:29:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@fd26b36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EFF4FC15A5DB272508959CBE6850672A], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:29:52 [ForkJoinPool.commonPool-worker-12] DEBUG c.t.f.S.PythonFeatureExtractionService - Python output: bash: scripts/face_recognition/run_extraction.sh: No such file or directory
2025-07-07 14:29:52 [ForkJoinPool.commonPool-worker-12] ERROR c.t.f.S.PythonFeatureExtractionService - Error in async extraction: Python script failed with exit code: 127
2025-07-07 14:37:37 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-07-07 14:37:37 [Thread-225] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-07 14:37:37 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-07-07 14:37:37 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-07 14:37:37 [Thread-225] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-07 14:37:37 [Thread-225] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 14:37:37 [Thread-225] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-61 - Shutdown initiated...
2025-07-07 14:37:37 [Thread-225] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-61 - Shutdown completed.
2025-07-07 14:37:38 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24.0.1 with PID 10485 (/home/loki/Desktop/face-attendance/target/classes started by loki in /home/loki/Desktop/face-attendance)
2025-07-07 14:37:38 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-07-07 14:37:38 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-07 14:37:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 14:37:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 154 ms. Found 20 JPA repository interfaces.
2025-07-07 14:37:41 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-07 14:37:41 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-07 14:37:41 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-07 14:37:41 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-07-07 14:37:41 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-07 14:37:41 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3229 ms
2025-07-07 14:37:41 [restartedMain] WARN  o.a.c.c.C.[.[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [E928DF431C9B90BCD17D8C42786C35E6]
2025-07-07 14:37:41 [restartedMain] ERROR o.a.catalina.session.StandardManager - Exception loading sessions from persistent storage
java.lang.ClassCastException: class java.io.ObjectStreamClass cannot be cast to class java.lang.String (java.io.ObjectStreamClass and java.lang.String are in module java.base of loader 'bootstrap')
	at java.base/java.io.ObjectInputStream.readTypeString(ObjectInputStream.java:1730)
	at java.base/java.io.ObjectStreamClass.readNonProxy(ObjectStreamClass.java:606)
	at java.base/java.io.ObjectInputStream.readClassDescriptor(ObjectInputStream.java:941)
	at java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1935)
	at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1818)
	at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2134)
	at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1653)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:495)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:453)
	at org.apache.catalina.session.StandardSession.doReadObject(StandardSession.java:1198)
	at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:831)
	at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:210)
	at org.apache.catalina.session.StandardManager.load(StandardManager.java:156)
	at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:345)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4494)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:18)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-07-07 14:37:41 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 14:37:41 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 14:37:41 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 14:37:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-62 - Starting...
2025-07-07 14:37:41 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-62 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6372991f
2025-07-07 14:37:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-62 - Start completed.
2025-07-07 14:37:41 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-07-07 14:37:41 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-62)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-07 14:37:43 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 14:37:43 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 14:37:44 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 14:37:44 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-07-07 14:37:45 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: scripts/face_recognition/extract_wrapper.py
2025-07-07 14:37:45 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: scripts/face_recognition/run_extraction.sh
2025-07-07 14:37:45 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: scripts/face_recognition
2025-07-07 14:37:45 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 14:37:46 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-07-07 14:37:47 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-07 14:37:47 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-07 14:37:48 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-07 14:37:48 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-07 14:37:48 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-07 14:37:48 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 10.91 seconds (process running for 14180.206)
2025-07-07 14:37:48 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 14:37:48 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-07 14:37:52 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-07 14:37:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-07 14:37:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 15 ms
2025-07-07 14:37:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 14:37:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:37:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E928DF431C9B90BCD17D8C42786C35E6
2025-07-07 14:37:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/sinhvien?continue to session
2025-07-07 14:37:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 14:37:52 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:37:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 14:37:52 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 14:37:52 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 14:37:52 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 14:37:52 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 14:37:52 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 14:37:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-07-07 14:37:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 14:37:53 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:37:53 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:37:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-07-07 14:37:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 14:37:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:37:53 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:37:53 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json?continue to session
2025-07-07 14:37:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 14:37:53 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:37:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 14:37:53 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 14:37:53 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 14:37:53 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 14:37:53 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 14:37:53 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 14:37:55 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-07-07 14:37:56 [http-nio-8080-exec-7] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-07-07 14:37:56 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 14:37:56 [http-nio-8080-exec-7] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-07-07 14:37:56 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-07-07 14:37:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Invalidating session with Id '1E913BE2EDED5EB9862D850395A4F6AE' and migrating attributes.
2025-07-07 14:37:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Started new session: 3D1E2F46811390CE5C278A8246CE4372
2025-07-07 14:37:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Changed session id from 1E913BE2EDED5EB9862D850395A4F6AE
2025-07-07 14:37:56 [http-nio-8080-exec-7] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 3D1E2F46811390CE5C278A8246CE4372, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2
2025-07-07 14:37:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@175de04f]
2025-07-07 14:37:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]
2025-07-07 14:37:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-07 14:37:56 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:37:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-07 14:37:56 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-07 14:37:56 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]
2025-07-07 14:37:56 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-07 14:37:56 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-07 14:37:56 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-07 14:37:56 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-07 14:37:56 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:37:56 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:37:56 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:37:56 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:37:56 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-07 14:37:56 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:37:56 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:37:56 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:37:56 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-07 14:37:56 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-07 14:37:56 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-07 14:37:56 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 5, Classes: 4, Attendance: 0
2025-07-07 14:37:56 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-07 14:37:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:37:57 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:37:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:37:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 14:37:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 14:37:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-07 14:37:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 14:37:57 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:37:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 14:37:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 14:37:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 14:37:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 14:37:57 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 14:37:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 14:37:57 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:37:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-07 14:37:57 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:37:57 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:37:57 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:37:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 14:37:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 14:37:57 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:37:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 14:37:57 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:37:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 14:37:57 [http-nio-8080-exec-7] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 14:38:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 14:38:00 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:38:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 14:38:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:38:00 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:38:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:38:00 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 14:38:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 14:38:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 14:38:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 14:38:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 14:38:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 14:38:00 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 14:38:00 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:38:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 14:38:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 14:38:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 14:38:00 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 14:38:00 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:38:00 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:38:00 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:38:00 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:38:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 14:38:01 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 14:38:01 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:38:01 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:38:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 14:38:01 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 14:38:01 [http-nio-8080-exec-4] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 14:38:01 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 14:38:01 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 14:38:01 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:38:01 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 14:38:01 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 14:38:01 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:38:01 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 14:38:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 14:38:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:38:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:38:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:38:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 14:38:01 [http-nio-8080-exec-7] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-07 14:38:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/check-environment
2025-07-07 14:38:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/check-environment
2025-07-07 14:38:03 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:38:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/check-environment
2025-07-07 14:38:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/check-environment
2025-07-07 14:38:07 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:38:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/python/extract-all
2025-07-07 14:38:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/python/extract-all
2025-07-07 14:38:11 [http-nio-8080-exec-9] INFO  c.t.f.C.PythonFeatureExtractionController - Request to extract features for all students
2025-07-07 14:38:11 [ForkJoinPool.commonPool-worker-13] INFO  c.t.f.S.PythonFeatureExtractionService - Running command: bash scripts/face_recognition/run_extraction.sh all
2025-07-07 14:38:11 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:38:11 [ForkJoinPool.commonPool-worker-13] DEBUG c.t.f.S.PythonFeatureExtractionService - Python output: bash: scripts/face_recognition/run_extraction.sh: No such file or directory
2025-07-07 14:38:11 [ForkJoinPool.commonPool-worker-13] ERROR c.t.f.S.PythonFeatureExtractionService - Error in async extraction: Python script failed with exit code: 127
2025-07-07 14:38:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/extract-all
2025-07-07 14:38:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/extract-all
2025-07-07 14:38:41 [http-nio-8080-exec-1] WARN  o.s.web.servlet.PageNotFound - Request method 'GET' is not supported
2025-07-07 14:38:41 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-07-07 14:38:41 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@183e78c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E913BE2EDED5EB9862D850395A4F6AE], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:51:08 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-07 14:51:08 [Thread-229] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-07 14:51:08 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-07-07 14:51:08 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-07 14:51:08 [Thread-229] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-07 14:51:08 [Thread-229] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 14:51:08 [Thread-229] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-62 - Shutdown initiated...
2025-07-07 14:51:08 [Thread-229] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-62 - Shutdown completed.
2025-07-07 14:51:08 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24.0.1 with PID 10485 (/home/loki/Desktop/face-attendance/target/classes started by loki in /home/loki/Desktop/face-attendance)
2025-07-07 14:51:08 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-07-07 14:51:08 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-07 14:51:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 14:51:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 20 JPA repository interfaces.
2025-07-07 14:51:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-07 14:51:09 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-07 14:51:09 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-07 14:51:09 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-07-07 14:51:09 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-07 14:51:09 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 694 ms
2025-07-07 14:51:09 [restartedMain] WARN  o.a.c.c.C.[.[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [3D1E2F46811390CE5C278A8246CE4372]
2025-07-07 14:51:09 [restartedMain] ERROR o.a.catalina.session.StandardManager - Exception loading sessions from persistent storage
java.lang.ClassCastException: class java.io.ObjectStreamClass cannot be cast to class java.lang.String (java.io.ObjectStreamClass and java.lang.String are in module java.base of loader 'bootstrap')
	at java.base/java.io.ObjectInputStream.readTypeString(ObjectInputStream.java:1730)
	at java.base/java.io.ObjectStreamClass.readNonProxy(ObjectStreamClass.java:606)
	at java.base/java.io.ObjectInputStream.readClassDescriptor(ObjectInputStream.java:941)
	at java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1935)
	at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1818)
	at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2134)
	at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1653)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:495)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:453)
	at org.apache.catalina.session.StandardSession.doReadObject(StandardSession.java:1198)
	at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:831)
	at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:210)
	at org.apache.catalina.session.StandardManager.load(StandardManager.java:156)
	at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:345)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4494)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:18)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-07-07 14:51:09 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 14:51:09 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 14:51:09 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 14:51:09 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-63 - Starting...
2025-07-07 14:51:09 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-63 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3c247e51
2025-07-07 14:51:09 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-63 - Start completed.
2025-07-07 14:51:09 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-07-07 14:51:09 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-63)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-07 14:51:09 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 14:51:09 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 14:51:10 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 14:51:10 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-07-07 14:51:10 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: /home/loki/Desktop/face-attendance/extract_wrapper.py
2025-07-07 14:51:10 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: /home/loki/Desktop/face-attendance/run_extraction.sh
2025-07-07 14:51:10 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: /home/loki/Desktop/face-attendance
2025-07-07 14:51:10 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 14:51:10 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-07-07 14:51:10 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-07 14:51:10 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-07 14:51:11 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-07 14:51:11 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-07 14:51:11 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-07 14:51:11 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 2.677 seconds (process running for 14982.567)
2025-07-07 14:51:11 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 14:51:11 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-07 14:51:28 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-07 14:51:28 [Thread-233] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-07 14:51:28 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-07-07 14:51:28 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-07 14:51:28 [Thread-233] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-07 14:51:28 [Thread-233] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 14:51:28 [Thread-233] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-63 - Shutdown initiated...
2025-07-07 14:51:28 [Thread-233] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-63 - Shutdown completed.
2025-07-07 14:51:29 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24.0.1 with PID 10485 (/home/loki/Desktop/face-attendance/target/classes started by loki in /home/loki/Desktop/face-attendance)
2025-07-07 14:51:29 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-07-07 14:51:29 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-07 14:51:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 14:51:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 20 JPA repository interfaces.
2025-07-07 14:51:29 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-07 14:51:29 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-07 14:51:29 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-07 14:51:29 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-07-07 14:51:29 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-07 14:51:29 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 467 ms
2025-07-07 14:51:29 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 14:51:29 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 14:51:29 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 14:51:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-64 - Starting...
2025-07-07 14:51:29 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-64 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1abe238
2025-07-07 14:51:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-64 - Start completed.
2025-07-07 14:51:29 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-07-07 14:51:29 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-64)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-07 14:51:29 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 14:51:29 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 14:51:30 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 14:51:30 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-07-07 14:51:30 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 14:51:30 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: /home/loki/Desktop/face-attendance/extract_wrapper.py
2025-07-07 14:51:30 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: /home/loki/Desktop/face-attendance/run_extraction.sh
2025-07-07 14:51:30 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: /home/loki/Desktop/face-attendance
2025-07-07 14:51:30 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-07-07 14:51:30 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-07 14:51:30 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-07 14:51:31 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-07 14:51:31 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-07 14:51:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-07 14:51:31 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 2.102 seconds (process running for 15002.651)
2025-07-07 14:51:31 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 14:51:31 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-07 14:52:00 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-07 14:52:00 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-07 14:52:00 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-07 14:52:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/python/extract-all
2025-07-07 14:52:00 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:52:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/python/extract-all
2025-07-07 14:52:00 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Request to extract features for all students
2025-07-07 14:52:00 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Executing batch command: cd /home/loki/Desktop/face-attendance && source /home/loki/Desktop/face-attendance/.venv/bin/activate && python scripts/face_recognition/face_feature_extractor.py
2025-07-07 14:52:03 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:03,252 - INFO - FaceFeatureExtractor initialized
2025-07-07 14:52:03 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:03,252 - INFO - Project root: /home/loki/Desktop/face-attendance
2025-07-07 14:52:03 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:03,252 - INFO - Student base directory: /home/loki/Desktop/face-attendance/src/main/resources/static/uploads/students
2025-07-07 14:52:03 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:03,252 - INFO - Authentication credentials provided for user: admin
2025-07-07 14:52:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-07-07 14:52:03 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:52:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 14:52:03 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:52:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 14:52:03 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 14:52:03 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 14:52:03 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 14:52:03 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 14:52:03 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 14:52:03 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:03,286 - INFO - ✅ Login successful, session established
2025-07-07 14:52:03 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:03,286 - INFO - 🔄 Bắt đầu xử lý batch trích xuất đặc trưng...
2025-07-07 14:52:03 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:03,286 - INFO - 🔍 Tìm kiếm sinh viên trong: /home/loki/Desktop/face-attendance/src/main/resources/static/uploads/students
2025-07-07 14:52:03 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:03,286 - INFO - 📂 Tìm thấy 1 thư mục sinh viên
2025-07-07 14:52:03 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:03,286 - INFO - 🔄 Bắt đầu xử lý sinh viên: 21072006095
2025-07-07 14:52:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/by-masv/21072006095
2025-07-07 14:52:03 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:52:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 14:52:03 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:52:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 14:52:03 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 14:52:03 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 14:52:03 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 14:52:03 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 14:52:03 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 14:52:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-07-07 14:52:03 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:52:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 14:52:03 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:52:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 14:52:03 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 14:52:03 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 14:52:03 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 14:52:03 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 14:52:03 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 14:52:03 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:03,305 - INFO - ✅ Login successful, session established
2025-07-07 14:52:03 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:03,305 - WARNING - ⚠️  Không thể verify sinh viên 21072006095 qua API, nhưng thư mục tồn tại
2025-07-07 14:52:03 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:03,305 - INFO - Sinh viên 21072006095: Profile=✓, Faces=5/5
2025-07-07 14:52:03 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:03,305 - INFO - 📸 Tìm thấy 6 ảnh cho sinh viên 21072006095
2025-07-07 14:52:03 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:03,575 - INFO - Trích xuất thành công từ: profile.jpg (score: 0.847)
2025-07-07 14:52:03 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:03,825 - INFO - Trích xuất thành công từ: face_1.jpg (score: 0.847)
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:04,094 - INFO - Trích xuất thành công từ: face_2.jpg (score: 0.791)
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:04,349 - INFO - Trích xuất thành công từ: face_3.jpg (score: 0.780)
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:04,625 - INFO - Trích xuất thành công từ: face_4.jpg (score: 0.760)
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:04,879 - INFO - Trích xuất thành công từ: face_5.jpg (score: 0.663)
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:04,879 - INFO - Chất lượng embeddings: Similarity=0.481, Count=6
2025-07-07 14:52:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/python/students/21072006095/embedding
2025-07-07 14:52:04 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:52:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/python/students/21072006095/embedding
2025-07-07 14:52:04 [http-nio-8080-exec-9] INFO  c.t.f.Controller.PythonApiController - Saving embedding for student: 21072006095
2025-07-07 14:52:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-07-07 14:52:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    update
        sinhvien 
    set
        email=?,
        embedding=?,
        gioi_tinh=?,
        hinh_anh=?,
        ho_ten=?,
        is_active=?,
        ma_lop=?,
        ngay_sinh=? 
    where
        ma_sv=?
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:04,925 - INFO - ✓ [Python API] Lưu embedding cho sinh viên 21072006095 thành công
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:04,926 - WARNING - Không thể trigger extraction cho 21072006095: Cannot connect to host localhost:8001 ssl:default [Connect call failed ('127.0.0.1', 8001)]
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:52:04,926 - INFO - 🏁 Hoàn thành xử lý. Thành công: 1/1 (100.0%)
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🚀 KHỞI ĐỘNG SCRIPT TRÍCH XUẤT ĐẶC TRƯNG KHUÔN MẶT
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ============================================================
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 📁 Project root: /home/loki/Desktop/face-attendance
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🔗 Backend API: http://localhost:8080/api
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🤖 Face API: http://localhost:8001
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🔐 Authentication: Enabled
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/1k3d68.onnx landmark_3d_68 ['None', 3, 192, 192] 0.0 1.0
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/2d106det.onnx landmark_2d_106 ['None', 3, 192, 192] 0.0 1.0
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/det_10g.onnx detection [1, 3, '?', '?'] 127.5 128.0
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/genderage.onnx genderage ['None', 3, 96, 96] 0.0 1.0
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/w600k_r50.onnx recognition ['None', 3, 112, 112] 127.5 127.5
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: set det-size: (640, 640)
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ✅ Thư mục sinh viên: /home/loki/Desktop/face-attendance/src/main/resources/static/uploads/students
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🔄 Kiểm tra kết nối API...
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ✅ Kết nối API thành công
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ====================================================================================================
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 📊 BÁO CÁO TRÍCH XUẤT ĐẶC TRƯNG KHUÔN MẶT SINH VIÊN
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ====================================================================================================
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 📈 TỔNG QUAN:
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    • Tổng số sinh viên: 1
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    • Thành công: 1 ✅
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    • Thất bại: 0 ❌
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    • Tỷ lệ thành công: 100.0%
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 📋 CHI TIẾT TỪNG SINH VIÊN:
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ----------------------------------------------------------------------------------------------------
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ✅ SINH VIÊN XỬ LÝ THÀNH CÔNG (1):
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    🎓 21072006095 - Student_21072006095
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:       📸 Ảnh: 6 (Profile: ✓, Faces: 5)
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:       🎯 Chất lượng: 0.481 (Chất lượng khá, nên thêm ảnh hoặc chụp lại)
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ====================================================================================================
2025-07-07 14:52:04 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 💾 Báo cáo đã được lưu: face_extraction_report_20250707_145204.json
2025-07-07 14:52:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/extract-all
2025-07-07 14:52:19 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:52:19 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 3D1E2F46811390CE5C278A8246CE4372
2025-07-07 14:52:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/extract-all
2025-07-07 14:52:19 [http-nio-8080-exec-2] WARN  o.s.web.servlet.PageNotFound - Request method 'GET' is not supported
2025-07-07 14:52:19 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-07-07 14:52:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/extract-all
2025-07-07 14:52:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:52:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 3D1E2F46811390CE5C278A8246CE4372
2025-07-07 14:52:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/extract-all
2025-07-07 14:52:21 [http-nio-8080-exec-3] WARN  o.s.web.servlet.PageNotFound - Request method 'GET' is not supported
2025-07-07 14:52:21 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-07-07 14:52:35 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-07 14:52:35 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-07 14:52:35 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 14:52:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-64 - Shutdown initiated...
2025-07-07 14:52:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-64 - Shutdown completed.
2025-07-07 14:52:36 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-07 14:52:36 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24.0.1 with PID 51373 (/home/loki/Desktop/face-attendance/target/classes started by loki in /home/loki/Desktop/face-attendance)
2025-07-07 14:52:36 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-07-07 14:52:36 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-07 14:52:36 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-07 14:52:36 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-07 14:52:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 14:52:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 50 ms. Found 20 JPA repository interfaces.
2025-07-07 14:52:38 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-07 14:52:38 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-07 14:52:38 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-07 14:52:38 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-07-07 14:52:38 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-07 14:52:38 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1374 ms
2025-07-07 14:52:38 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 14:52:38 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-07-07 14:52:38 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 14:52:38 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 14:52:38 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-07 14:52:38 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@28eb92f2
2025-07-07 14:52:38 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-07 14:52:38 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-07-07 14:52:39 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-07 14:52:39 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 14:52:39 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 14:52:40 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-07 14:52:40 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 14:52:40 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-07-07 14:52:41 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 14:52:41 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: /home/loki/Desktop/face-attendance/extract_wrapper.py
2025-07-07 14:52:41 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: /home/loki/Desktop/face-attendance/run_extraction.sh
2025-07-07 14:52:41 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: /home/loki/Desktop/face-attendance
2025-07-07 14:52:41 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-07-07 14:52:41 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-07 14:52:41 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-07 14:52:42 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-07 14:52:42 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-07 14:52:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-07 14:52:42 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 5.63 seconds (process running for 6.232)
2025-07-07 14:52:42 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 14:52:42 [RMI TCP Connection(2)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-07 14:52:42 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-07 14:52:42 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-07 14:52:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/extract-all
2025-07-07 14:52:45 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:52:45 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 3D1E2F46811390CE5C278A8246CE4372
2025-07-07 14:52:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/extract-all
2025-07-07 14:52:45 [http-nio-8080-exec-1] WARN  o.s.web.servlet.PageNotFound - Request method 'GET' is not supported
2025-07-07 14:52:45 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-07-07 14:52:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/extract-all
2025-07-07 14:52:47 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:52:47 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 3D1E2F46811390CE5C278A8246CE4372
2025-07-07 14:52:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/extract-all
2025-07-07 14:52:47 [http-nio-8080-exec-2] WARN  o.s.web.servlet.PageNotFound - Request method 'GET' is not supported
2025-07-07 14:52:47 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-07-07 14:55:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/extract-all
2025-07-07 14:55:11 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:55:11 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 3D1E2F46811390CE5C278A8246CE4372
2025-07-07 14:55:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/extract-all
2025-07-07 14:55:11 [http-nio-8080-exec-5] WARN  o.s.web.servlet.PageNotFound - Request method 'GET' is not supported
2025-07-07 14:55:11 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-07-07 14:55:15 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/extract-all
2025-07-07 14:55:15 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:55:15 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 3D1E2F46811390CE5C278A8246CE4372
2025-07-07 14:55:15 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/extract-all
2025-07-07 14:55:15 [http-nio-8080-exec-6] WARN  o.s.web.servlet.PageNotFound - Request method 'GET' is not supported
2025-07-07 14:55:15 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-07-07 14:55:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/extract-all
2025-07-07 14:55:15 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:55:15 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 3D1E2F46811390CE5C278A8246CE4372
2025-07-07 14:55:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/extract-all
2025-07-07 14:55:15 [http-nio-8080-exec-7] WARN  o.s.web.servlet.PageNotFound - Request method 'GET' is not supported
2025-07-07 14:55:15 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-07-07 14:55:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 14:55:19 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:55:19 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 3D1E2F46811390CE5C278A8246CE4372
2025-07-07 14:55:19 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/sinhvien?continue to session
2025-07-07 14:55:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 14:55:19 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:55:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 14:55:19 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 14:55:19 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 14:55:19 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 14:55:19 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 14:55:19 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 14:55:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 14:55:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-07-07 14:55:19 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:55:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:55:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 14:55:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-07-07 14:55:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:55:19 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:55:19 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json?continue to session
2025-07-07 14:55:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 14:55:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:55:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 14:55:19 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 14:55:19 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 14:55:19 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 14:55:19 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 14:55:19 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 14:55:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-07-07 14:55:21 [http-nio-8080-exec-4] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-07-07 14:55:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 14:55:21 [http-nio-8080-exec-4] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-07-07 14:55:21 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-07-07 14:55:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Invalidating session with Id '96DD976B5750CC2EA122C54B1F4E0B27' and migrating attributes.
2025-07-07 14:55:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Started new session: 7EF9F2940A1148BB5F9D1017EA52C3C2
2025-07-07 14:55:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Changed session id from 96DD976B5750CC2EA122C54B1F4E0B27
2025-07-07 14:55:21 [http-nio-8080-exec-4] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 7EF9F2940A1148BB5F9D1017EA52C3C2, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7
2025-07-07 14:55:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1b6839ce]
2025-07-07 14:55:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]
2025-07-07 14:55:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-07 14:55:21 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-07 14:55:21 [http-nio-8080-exec-5] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-07 14:55:21 [http-nio-8080-exec-5] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]
2025-07-07 14:55:21 [http-nio-8080-exec-5] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-07 14:55:21 [http-nio-8080-exec-5] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-07 14:55:21 [http-nio-8080-exec-5] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-07 14:55:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-07 14:55:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:55:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:55:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:55:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:55:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-07 14:55:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:55:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:55:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:55:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-07 14:55:22 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-07 14:55:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-07 14:55:22 [http-nio-8080-exec-5] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 5, Classes: 4, Attendance: 0
2025-07-07 14:55:22 [http-nio-8080-exec-5] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-07 14:55:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:55:22 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:55:22 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 14:55:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 14:55:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 14:55:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 14:55:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 14:55:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-07 14:55:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 14:55:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-07 14:55:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 14:55:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 14:55:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 14:55:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 14:55:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 14:55:22 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:22 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:22 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:22 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:22 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:22 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 14:55:22 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 14:55:22 [http-nio-8080-exec-3] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 14:55:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/extract-all
2025-07-07 14:55:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/extract-all
2025-07-07 14:55:23 [http-nio-8080-exec-4] WARN  o.s.web.servlet.PageNotFound - Request method 'GET' is not supported
2025-07-07 14:55:23 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-07-07 14:55:23 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:27 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 14:55:27 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:27 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 14:55:27 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:55:27 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:27 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 14:55:27 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 14:55:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 14:55:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 14:55:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 14:55:27 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 14:55:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 14:55:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 14:55:27 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:27 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 14:55:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 14:55:27 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 14:55:27 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 14:55:27 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:27 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:27 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 14:55:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 14:55:27 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:27 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:27 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 14:55:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 14:55:27 [http-nio-8080-exec-2] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 14:55:27 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 14:55:27 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 14:55:27 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 14:55:27 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 14:55:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 14:55:27 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 14:55:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 14:55:27 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 14:55:27 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:55:27 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:55:27 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 14:55:27 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 14:55:27 [http-nio-8080-exec-4] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-07 14:55:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/python/extract-all
2025-07-07 14:55:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/python/extract-all
2025-07-07 14:55:32 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Request to extract features for all students
2025-07-07 14:55:32 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Executing batch command: cd /home/loki/Desktop/face-attendance && source /home/loki/Desktop/face-attendance/.venv/bin/activate && python scripts/face_recognition/face_feature_extractor.py
2025-07-07 14:55:35 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:35,268 - INFO - FaceFeatureExtractor initialized
2025-07-07 14:55:35 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:35,268 - INFO - Project root: /home/loki/Desktop/face-attendance
2025-07-07 14:55:35 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:35,268 - INFO - Student base directory: /home/loki/Desktop/face-attendance/src/main/resources/static/uploads/students
2025-07-07 14:55:35 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:35,268 - INFO - Authentication credentials provided for user: admin
2025-07-07 14:55:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-07-07 14:55:35 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:55:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 14:55:35 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:55:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 14:55:35 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 14:55:35 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 14:55:35 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 14:55:35 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 14:55:35 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 14:55:35 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:35,278 - INFO - ✅ Login successful, session established
2025-07-07 14:55:35 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:35,278 - INFO - 🔄 Bắt đầu xử lý batch trích xuất đặc trưng...
2025-07-07 14:55:35 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:35,278 - INFO - 🔍 Tìm kiếm sinh viên trong: /home/loki/Desktop/face-attendance/src/main/resources/static/uploads/students
2025-07-07 14:55:35 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:35,279 - INFO - 📂 Tìm thấy 1 thư mục sinh viên
2025-07-07 14:55:35 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:35,279 - INFO - 🔄 Bắt đầu xử lý sinh viên: 21072006095
2025-07-07 14:55:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/by-masv/21072006095
2025-07-07 14:55:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:55:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 14:55:35 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:55:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 14:55:35 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 14:55:35 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 14:55:35 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 14:55:35 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 14:55:35 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 14:55:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-07-07 14:55:35 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:55:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 14:55:35 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:55:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 14:55:35 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 14:55:35 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 14:55:35 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 14:55:35 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 14:55:35 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 14:55:35 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:35,291 - INFO - ✅ Login successful, session established
2025-07-07 14:55:35 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:35,291 - WARNING - ⚠️  Không thể verify sinh viên 21072006095 qua API, nhưng thư mục tồn tại
2025-07-07 14:55:35 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:35,291 - INFO - Sinh viên 21072006095: Profile=✓, Faces=5/5
2025-07-07 14:55:35 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:35,292 - INFO - 📸 Tìm thấy 6 ảnh cho sinh viên 21072006095
2025-07-07 14:55:35 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:35,548 - INFO - Trích xuất thành công từ: profile.jpg (score: 0.847)
2025-07-07 14:55:35 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:35,808 - INFO - Trích xuất thành công từ: face_1.jpg (score: 0.847)
2025-07-07 14:55:36 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:36,086 - INFO - Trích xuất thành công từ: face_2.jpg (score: 0.791)
2025-07-07 14:55:36 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:36,399 - INFO - Trích xuất thành công từ: face_3.jpg (score: 0.780)
2025-07-07 14:55:36 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:36,693 - INFO - Trích xuất thành công từ: face_4.jpg (score: 0.760)
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:37,056 - INFO - Trích xuất thành công từ: face_5.jpg (score: 0.663)
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:37,057 - INFO - Chất lượng embeddings: Similarity=0.481, Count=6
2025-07-07 14:55:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/python/students/21072006095/embedding
2025-07-07 14:55:37 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 14:55:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/python/students/21072006095/embedding
2025-07-07 14:55:37 [http-nio-8080-exec-4] INFO  c.t.f.Controller.PythonApiController - Saving embedding for student: 21072006095
2025-07-07 14:55:37 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:37,113 - INFO - ✓ [Python API] Lưu embedding cho sinh viên 21072006095 thành công
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:37,115 - WARNING - Không thể trigger extraction cho 21072006095: Cannot connect to host localhost:8001 ssl:default [Connect call failed ('127.0.0.1', 8001)]
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 14:55:37,115 - INFO - 🏁 Hoàn thành xử lý. Thành công: 1/1 (100.0%)
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🚀 KHỞI ĐỘNG SCRIPT TRÍCH XUẤT ĐẶC TRƯNG KHUÔN MẶT
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ============================================================
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 📁 Project root: /home/loki/Desktop/face-attendance
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🔗 Backend API: http://localhost:8080/api
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🤖 Face API: http://localhost:8001
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🔐 Authentication: Enabled
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/1k3d68.onnx landmark_3d_68 ['None', 3, 192, 192] 0.0 1.0
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/2d106det.onnx landmark_2d_106 ['None', 3, 192, 192] 0.0 1.0
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/det_10g.onnx detection [1, 3, '?', '?'] 127.5 128.0
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/genderage.onnx genderage ['None', 3, 96, 96] 0.0 1.0
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/w600k_r50.onnx recognition ['None', 3, 112, 112] 127.5 127.5
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: set det-size: (640, 640)
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ✅ Thư mục sinh viên: /home/loki/Desktop/face-attendance/src/main/resources/static/uploads/students
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🔄 Kiểm tra kết nối API...
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ✅ Kết nối API thành công
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ====================================================================================================
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 📊 BÁO CÁO TRÍCH XUẤT ĐẶC TRƯNG KHUÔN MẶT SINH VIÊN
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ====================================================================================================
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 📈 TỔNG QUAN:
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    • Tổng số sinh viên: 1
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    • Thành công: 1 ✅
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    • Thất bại: 0 ❌
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    • Tỷ lệ thành công: 100.0%
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 📋 CHI TIẾT TỪNG SINH VIÊN:
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ----------------------------------------------------------------------------------------------------
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ✅ SINH VIÊN XỬ LÝ THÀNH CÔNG (1):
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    🎓 21072006095 - Student_21072006095
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:       📸 Ảnh: 6 (Profile: ✓, Faces: 5)
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:       🎯 Chất lượng: 0.481 (Chất lượng khá, nên thêm ảnh hoặc chụp lại)
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ====================================================================================================
2025-07-07 14:55:37 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 💾 Báo cáo đã được lưu: face_extraction_report_20250707_145537.json
2025-07-07 14:55:37 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@376bbee7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=96DD976B5750CC2EA122C54B1F4E0B27], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:01:40 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-07 15:01:40 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24.0.1 with PID 54254 (/home/loki/Desktop/face-attendance/target/classes started by loki in /home/loki/Desktop/face-attendance)
2025-07-07 15:01:40 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-07-07 15:01:40 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-07 15:01:40 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-07 15:01:40 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-07 15:01:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 15:01:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 20 JPA repository interfaces.
2025-07-07 15:01:41 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-07 15:01:41 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-07 15:01:41 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-07 15:01:41 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-07-07 15:01:41 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-07 15:01:41 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1327 ms
2025-07-07 15:01:42 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 15:01:42 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-07-07 15:01:42 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 15:01:42 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 15:01:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-07 15:01:42 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7c3b7d22
2025-07-07 15:01:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-07 15:01:42 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-07-07 15:01:42 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-07 15:01:43 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 15:01:43 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 15:01:43 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-07 15:01:44 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 15:01:44 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-07-07 15:01:44 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 15:01:44 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: /home/loki/Desktop/face-attendance/extract_wrapper.py
2025-07-07 15:01:44 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: /home/loki/Desktop/face-attendance/run_extraction.sh
2025-07-07 15:01:44 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: /home/loki/Desktop/face-attendance
2025-07-07 15:01:44 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-07-07 15:01:45 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-07 15:01:45 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-07 15:01:45 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-07 15:01:45 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-07 15:01:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-07 15:01:45 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 5.487 seconds (process running for 5.907)
2025-07-07 15:01:45 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 15:01:46 [RMI TCP Connection(4)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-07 15:01:46 [RMI TCP Connection(4)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-07 15:01:46 [RMI TCP Connection(4)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-07 15:04:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 15:04:21 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:04:21 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 7EF9F2940A1148BB5F9D1017EA52C3C2
2025-07-07 15:04:21 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/sinhvien?continue to session
2025-07-07 15:04:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 15:04:21 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:04:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 15:04:21 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 15:04:21 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 15:04:21 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 15:04:21 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 15:04:21 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 15:04:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:04:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 15:04:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-07-07 15:04:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:04:21 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:04:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:04:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 15:04:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-07-07 15:04:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json?continue to session
2025-07-07 15:04:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 15:04:21 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:04:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 15:04:21 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 15:04:21 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 15:04:21 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 15:04:21 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 15:04:21 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 15:04:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-07-07 15:04:22 [http-nio-8080-exec-7] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-07-07 15:04:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 15:04:22 [http-nio-8080-exec-7] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-07-07 15:04:23 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-07-07 15:04:23 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Invalidating session with Id '5FAFA01E110D321DF4034468AA51172D' and migrating attributes.
2025-07-07 15:04:23 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Started new session: D6119913520D6C26CC3492547A3541B9
2025-07-07 15:04:23 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Changed session id from 5FAFA01E110D321DF4034468AA51172D
2025-07-07 15:04:23 [http-nio-8080-exec-7] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session D6119913520D6C26CC3492547A3541B9, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15
2025-07-07 15:04:23 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@97fb45c]
2025-07-07 15:04:23 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]
2025-07-07 15:04:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-07-07 15:04:23 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-07-07 15:04:23 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-07-07 15:04:23 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]
2025-07-07 15:04:23 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-07-07 15:04:23 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-07-07 15:04:23 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-07-07 15:04:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-07 15:04:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:04:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:04:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:04:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:04:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-07-07 15:04:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 15:04:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 15:04:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 15:04:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-07-07 15:04:23 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - Đếm số lượng điểm danh trong ngày
2025-07-07 15:04:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-07-07 15:04:23 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 5, Classes: 4, Attendance: 0
2025-07-07 15:04:23 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-07-07 15:04:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:04:23 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:04:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 15:04:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 15:04:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 15:04:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-07-07 15:04:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 15:04:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 15:04:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 15:04:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-07-07 15:04:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 15:04:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 15:04:23 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:23 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:23 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:23 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:23 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:23 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 15:04:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 15:04:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 15:04:23 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 15:04:23 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 15:04:23 [http-nio-8080-exec-6] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 15:04:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 15:04:25 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 15:04:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:04:25 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:04:25 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 15:04:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 15:04:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 15:04:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 15:04:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 15:04:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 15:04:25 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 15:04:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 15:04:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 15:04:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 15:04:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 15:04:25 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:25 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:25 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:25 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 15:04:25 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 15:04:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 15:04:25 [http-nio-8080-exec-9] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 15:04:25 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 15:04:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 15:04:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 15:04:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 15:04:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 15:04:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 15:04:25 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 15:04:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 15:04:26 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:04:26 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:04:26 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:04:26 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 15:04:26 [http-nio-8080-exec-6] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-07 15:04:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/python/extract-all
2025-07-07 15:04:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/python/extract-all
2025-07-07 15:04:33 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Request to extract features for all students
2025-07-07 15:04:33 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Executing batch command: cd /home/loki/Desktop/face-attendance && source /home/loki/Desktop/face-attendance/.venv/bin/activate && python scripts/face_recognition/face_feature_extractor.py
2025-07-07 15:04:35 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:35,729 - INFO - FaceFeatureExtractor initialized
2025-07-07 15:04:35 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:35,729 - INFO - Project root: /home/loki/Desktop/face-attendance
2025-07-07 15:04:35 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:35,729 - INFO - Student base directory: /home/loki/Desktop/face-attendance/src/main/resources/static/uploads/students
2025-07-07 15:04:35 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:35,729 - INFO - Authentication credentials provided for user: admin
2025-07-07 15:04:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-07-07 15:04:35 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:04:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 15:04:35 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:04:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 15:04:35 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 15:04:35 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 15:04:35 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 15:04:35 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 15:04:35 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 15:04:35 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:35,741 - INFO - ✅ Login successful, session established
2025-07-07 15:04:35 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:35,741 - INFO - 🔄 Bắt đầu xử lý batch trích xuất đặc trưng...
2025-07-07 15:04:35 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:35,742 - INFO - 🔍 Tìm kiếm sinh viên trong: /home/loki/Desktop/face-attendance/src/main/resources/static/uploads/students
2025-07-07 15:04:35 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:35,742 - INFO - 📂 Tìm thấy 1 thư mục sinh viên
2025-07-07 15:04:35 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:35,742 - INFO - 🔄 Bắt đầu xử lý sinh viên: 21072006095
2025-07-07 15:04:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/by-masv/21072006095
2025-07-07 15:04:35 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:04:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 15:04:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:04:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 15:04:35 [http-nio-8080-exec-1] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 15:04:35 [http-nio-8080-exec-1] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 15:04:35 [http-nio-8080-exec-1] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 15:04:35 [http-nio-8080-exec-1] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 15:04:35 [http-nio-8080-exec-1] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 15:04:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-07-07 15:04:35 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:04:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 15:04:35 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:04:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 15:04:35 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 15:04:35 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 15:04:35 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 15:04:35 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 15:04:35 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 15:04:35 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:35,754 - INFO - ✅ Login successful, session established
2025-07-07 15:04:35 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:35,755 - WARNING - ⚠️  Không thể verify sinh viên 21072006095 qua API, nhưng thư mục tồn tại
2025-07-07 15:04:35 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:35,755 - INFO - Sinh viên 21072006095: Profile=✓, Faces=5/5
2025-07-07 15:04:35 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:35,755 - INFO - 📸 Tìm thấy 6 ảnh cho sinh viên 21072006095
2025-07-07 15:04:36 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:36,035 - INFO - Trích xuất thành công từ: profile.jpg (score: 0.847)
2025-07-07 15:04:36 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:36,296 - INFO - Trích xuất thành công từ: face_1.jpg (score: 0.847)
2025-07-07 15:04:36 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:36,570 - INFO - Trích xuất thành công từ: face_2.jpg (score: 0.791)
2025-07-07 15:04:36 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:36,832 - INFO - Trích xuất thành công từ: face_3.jpg (score: 0.780)
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:37,095 - INFO - Trích xuất thành công từ: face_4.jpg (score: 0.760)
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:37,366 - INFO - Trích xuất thành công từ: face_5.jpg (score: 0.663)
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:37,366 - INFO - Chất lượng embeddings: Similarity=0.481, Count=6
2025-07-07 15:04:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/python/students/21072006095/embedding
2025-07-07 15:04:37 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:04:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/python/students/21072006095/embedding
2025-07-07 15:04:37 [http-nio-8080-exec-5] INFO  c.t.f.Controller.PythonApiController - Saving embedding for student: 21072006095
2025-07-07 15:04:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:37,401 - INFO - ✓ [Python API] Lưu embedding cho sinh viên 21072006095 thành công
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:37,402 - WARNING - Không thể trigger extraction cho 21072006095: Cannot connect to host localhost:8001 ssl:default [Connect call failed ('127.0.0.1', 8001)]
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:04:37,402 - INFO - 🏁 Hoàn thành xử lý. Thành công: 1/1 (100.0%)
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🚀 KHỞI ĐỘNG SCRIPT TRÍCH XUẤT ĐẶC TRƯNG KHUÔN MẶT
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ============================================================
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 📁 Project root: /home/loki/Desktop/face-attendance
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🔗 Backend API: http://localhost:8080/api
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🤖 Face API: http://localhost:8001
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🔐 Authentication: Enabled
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/1k3d68.onnx landmark_3d_68 ['None', 3, 192, 192] 0.0 1.0
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/2d106det.onnx landmark_2d_106 ['None', 3, 192, 192] 0.0 1.0
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/det_10g.onnx detection [1, 3, '?', '?'] 127.5 128.0
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/genderage.onnx genderage ['None', 3, 96, 96] 0.0 1.0
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/w600k_r50.onnx recognition ['None', 3, 112, 112] 127.5 127.5
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: set det-size: (640, 640)
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ✅ Thư mục sinh viên: /home/loki/Desktop/face-attendance/src/main/resources/static/uploads/students
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🔄 Kiểm tra kết nối API...
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ✅ Kết nối API thành công
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ====================================================================================================
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 📊 BÁO CÁO TRÍCH XUẤT ĐẶC TRƯNG KHUÔN MẶT SINH VIÊN
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ====================================================================================================
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 📈 TỔNG QUAN:
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    • Tổng số sinh viên: 1
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    • Thành công: 1 ✅
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    • Thất bại: 0 ❌
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    • Tỷ lệ thành công: 100.0%
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 📋 CHI TIẾT TỪNG SINH VIÊN:
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ----------------------------------------------------------------------------------------------------
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ✅ SINH VIÊN XỬ LÝ THÀNH CÔNG (1):
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    🎓 21072006095 - Student_21072006095
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:       📸 Ảnh: 6 (Profile: ✓, Faces: 5)
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:       🎯 Chất lượng: 0.481 (Chất lượng khá, nên thêm ảnh hoặc chụp lại)
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ====================================================================================================
2025-07-07 15:04:37 [http-nio-8080-exec-7] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 💾 Báo cáo đã được lưu: face_extraction_report_20250707_150437.json
2025-07-07 15:04:37 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 15:04:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/statistics
2025-07-07 15:04:39 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:39 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/statistics
2025-07-07 15:04:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 15:04:39 [http-nio-8080-exec-8] INFO  c.t.f.Controller.SinhVienController - Getting student statistics
2025-07-07 15:04:39 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 15:04:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-07 15:04:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:04:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:04:39 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:04:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:04:39 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:04:39 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:04:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:04:39 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 15:04:44 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=4&size=10
2025-07-07 15:04:44 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:44 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=4&size=10
2025-07-07 15:04:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 15:04:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:04:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:04:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:04:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:04:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 15:04:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/profile.jpg
2025-07-07 15:04:44 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:04:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/profile.jpg
2025-07-07 15:05:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/python/extract-all
2025-07-07 15:05:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/python/extract-all
2025-07-07 15:05:15 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Request to extract features for all students
2025-07-07 15:05:15 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Executing batch command: cd /home/loki/Desktop/face-attendance && source /home/loki/Desktop/face-attendance/.venv/bin/activate && python scripts/face_recognition/face_feature_extractor.py
2025-07-07 15:05:18 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:18,494 - INFO - FaceFeatureExtractor initialized
2025-07-07 15:05:18 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:18,494 - INFO - Project root: /home/loki/Desktop/face-attendance
2025-07-07 15:05:18 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:18,494 - INFO - Student base directory: /home/loki/Desktop/face-attendance/src/main/resources/static/uploads/students
2025-07-07 15:05:18 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:18,494 - INFO - Authentication credentials provided for user: admin
2025-07-07 15:05:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-07-07 15:05:18 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:05:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 15:05:18 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:05:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 15:05:18 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 15:05:18 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 15:05:18 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 15:05:18 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 15:05:18 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 15:05:18 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:18,501 - INFO - ✅ Login successful, session established
2025-07-07 15:05:18 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:18,501 - INFO - 🔄 Bắt đầu xử lý batch trích xuất đặc trưng...
2025-07-07 15:05:18 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:18,501 - INFO - 🔍 Tìm kiếm sinh viên trong: /home/loki/Desktop/face-attendance/src/main/resources/static/uploads/students
2025-07-07 15:05:18 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:18,501 - INFO - 📂 Tìm thấy 1 thư mục sinh viên
2025-07-07 15:05:18 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:18,502 - INFO - 🔄 Bắt đầu xử lý sinh viên: 21072006095
2025-07-07 15:05:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/by-masv/21072006095
2025-07-07 15:05:18 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:05:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 15:05:18 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:05:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 15:05:18 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 15:05:18 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 15:05:18 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 15:05:18 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 15:05:18 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 15:05:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-07-07 15:05:18 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:05:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 15:05:18 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:05:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 15:05:18 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 15:05:18 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 15:05:18 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 15:05:18 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 15:05:18 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 15:05:18 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:18,513 - INFO - ✅ Login successful, session established
2025-07-07 15:05:18 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:18,513 - WARNING - ⚠️  Không thể verify sinh viên 21072006095 qua API, nhưng thư mục tồn tại
2025-07-07 15:05:18 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:18,513 - INFO - Sinh viên 21072006095: Profile=✓, Faces=5/5
2025-07-07 15:05:18 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:18,513 - INFO - 📸 Tìm thấy 6 ảnh cho sinh viên 21072006095
2025-07-07 15:05:18 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:18,752 - INFO - Trích xuất thành công từ: profile.jpg (score: 0.847)
2025-07-07 15:05:19 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:19,014 - INFO - Trích xuất thành công từ: face_1.jpg (score: 0.847)
2025-07-07 15:05:19 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:19,280 - INFO - Trích xuất thành công từ: face_2.jpg (score: 0.791)
2025-07-07 15:05:19 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:19,539 - INFO - Trích xuất thành công từ: face_3.jpg (score: 0.780)
2025-07-07 15:05:19 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:19,805 - INFO - Trích xuất thành công từ: face_4.jpg (score: 0.760)
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:20,068 - INFO - Trích xuất thành công từ: face_5.jpg (score: 0.663)
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:20,069 - INFO - Chất lượng embeddings: Similarity=0.481, Count=6
2025-07-07 15:05:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/python/students/21072006095/embedding
2025-07-07 15:05:20 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 15:05:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/python/students/21072006095/embedding
2025-07-07 15:05:20 [http-nio-8080-exec-2] INFO  c.t.f.Controller.PythonApiController - Saving embedding for student: 21072006095
2025-07-07 15:05:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-07-07 15:05:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    update
        sinhvien 
    set
        email=?,
        embedding=?,
        gioi_tinh=?,
        hinh_anh=?,
        ho_ten=?,
        is_active=?,
        ma_lop=?,
        ngay_sinh=? 
    where
        ma_sv=?
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:20,106 - INFO - ✓ [Python API] Lưu embedding cho sinh viên 21072006095 thành công
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:20,107 - WARNING - Không thể trigger extraction cho 21072006095: Cannot connect to host localhost:8001 ssl:default [Connect call failed ('127.0.0.1', 8001)]
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 2025-07-07 15:05:20,107 - INFO - 🏁 Hoàn thành xử lý. Thành công: 1/1 (100.0%)
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🚀 KHỞI ĐỘNG SCRIPT TRÍCH XUẤT ĐẶC TRƯNG KHUÔN MẶT
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ============================================================
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 📁 Project root: /home/loki/Desktop/face-attendance
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🔗 Backend API: http://localhost:8080/api
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🤖 Face API: http://localhost:8001
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🔐 Authentication: Enabled
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/1k3d68.onnx landmark_3d_68 ['None', 3, 192, 192] 0.0 1.0
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/2d106det.onnx landmark_2d_106 ['None', 3, 192, 192] 0.0 1.0
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/det_10g.onnx detection [1, 3, '?', '?'] 127.5 128.0
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/genderage.onnx genderage ['None', 3, 96, 96] 0.0 1.0
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Applied providers: ['CPUExecutionProvider'], with options: {'CPUExecutionProvider': {}}
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: find model: /home/loki/.insightface/models/buffalo_l/w600k_r50.onnx recognition ['None', 3, 112, 112] 127.5 127.5
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: set det-size: (640, 640)
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ✅ Thư mục sinh viên: /home/loki/Desktop/face-attendance/src/main/resources/static/uploads/students
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 🔄 Kiểm tra kết nối API...
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ✅ Kết nối API thành công
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ====================================================================================================
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 📊 BÁO CÁO TRÍCH XUẤT ĐẶC TRƯNG KHUÔN MẶT SINH VIÊN
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ====================================================================================================
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 📈 TỔNG QUAN:
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    • Tổng số sinh viên: 1
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    • Thành công: 1 ✅
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    • Thất bại: 0 ❌
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    • Tỷ lệ thành công: 100.0%
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 📋 CHI TIẾT TỪNG SINH VIÊN:
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ----------------------------------------------------------------------------------------------------
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ✅ SINH VIÊN XỬ LÝ THÀNH CÔNG (1):
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:    🎓 21072006095 - Student_21072006095
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:       📸 Ảnh: 6 (Profile: ✓, Faces: 5)
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:       🎯 Chất lượng: 0.481 (Chất lượng khá, nên thêm ảnh hoặc chụp lại)
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ====================================================================================================
2025-07-07 15:05:20 [http-nio-8080-exec-1] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: 💾 Báo cáo đã được lưu: face_extraction_report_20250707_150520.json
2025-07-07 15:05:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:05:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/statistics
2025-07-07 15:05:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=4&size=10
2025-07-07 15:05:21 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:05:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:05:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/statistics
2025-07-07 15:05:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=4&size=10
2025-07-07 15:05:21 [http-nio-8080-exec-9] INFO  c.t.f.Controller.SinhVienController - Getting student statistics
2025-07-07 15:05:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-07 15:05:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 15:05:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:05:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:05:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:05:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:05:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:05:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:05:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:05:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 15:05:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:05:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/profile.jpg
2025-07-07 15:05:21 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:05:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/profile.jpg
2025-07-07 15:06:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 15:06:59 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:06:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 15:06:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:06:59 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:06:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:06:59 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 15:06:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 15:06:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 15:06:59 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:06:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 15:06:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 15:06:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 15:06:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 15:06:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 15:06:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 15:06:59 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:06:59 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:06:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 15:06:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 15:06:59 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:06:59 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:06:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 15:06:59 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:06:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 15:06:59 [http-nio-8080-exec-10] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 15:06:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 15:06:59 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:06:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 15:06:59 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 15:06:59 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 15:06:59 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 15:06:59 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 15:07:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 15:07:00 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 15:07:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 15:07:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:07:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:07:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:07:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 15:07:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 15:07:25 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 15:07:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:07:25 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:07:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 15:07:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 15:07:25 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 15:07:25 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 15:07:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 15:07:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 15:07:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 15:07:25 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:25 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 15:07:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 15:07:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 15:07:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 15:07:25 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:25 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 15:07:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 15:07:26 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 15:07:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 15:07:26 [http-nio-8080-exec-10] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 15:07:26 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 15:07:26 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 15:07:26 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 15:07:26 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 15:07:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 15:07:26 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 15:07:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 15:07:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:07:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:07:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:07:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 15:07:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 15:07:37 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 15:07:37 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:07:37 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:37 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:07:37 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 15:07:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 15:07:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 15:07:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 15:07:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 15:07:37 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 15:07:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 15:07:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 15:07:37 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 15:07:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 15:07:37 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 15:07:37 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:37 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:38 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 15:07:38 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:38 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 15:07:38 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 15:07:38 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:38 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 15:07:38 [http-nio-8080-exec-10] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 15:07:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 15:07:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 15:07:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 15:07:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 15:07:38 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 15:07:38 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:38 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 15:07:38 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 15:07:38 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:07:38 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:07:38 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:07:38 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 15:07:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 15:07:49 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 15:07:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:07:49 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:07:49 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 15:07:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 15:07:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 15:07:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 15:07:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 15:07:49 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 15:07:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 15:07:49 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 15:07:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 15:07:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 15:07:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 15:07:49 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:49 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:49 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 15:07:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 15:07:50 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 15:07:50 [http-nio-8080-exec-10] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 15:07:50 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 15:07:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 15:07:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 15:07:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 15:07:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 15:07:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 15:07:50 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:07:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 15:07:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 15:07:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:07:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:07:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:07:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 15:08:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 15:08:02 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 15:08:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:08:02 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:08:02 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 15:08:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 15:08:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 15:08:02 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:02 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 15:08:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 15:08:02 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 15:08:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 15:08:02 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 15:08:02 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 15:08:02 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:02 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 15:08:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 15:08:02 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:02 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 15:08:03 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 15:08:03 [http-nio-8080-exec-10] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 15:08:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 15:08:03 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 15:08:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 15:08:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 15:08:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 15:08:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 15:08:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 15:08:03 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 15:08:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 15:08:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:08:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:08:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:08:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 15:08:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 15:08:07 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 15:08:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:08:07 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:08:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 15:08:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 15:08:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 15:08:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 15:08:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 15:08:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 15:08:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 15:08:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 15:08:07 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:07 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 15:08:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 15:08:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 15:08:07 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:07 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:07 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:07 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 15:08:08 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 15:08:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 15:08:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 15:08:08 [http-nio-8080-exec-10] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 15:08:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 15:08:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 15:08:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 15:08:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 15:08:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 15:08:08 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 15:08:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 15:08:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:08:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:08:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:08:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 15:08:17 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 15:08:17 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:17 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 15:08:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:08:17 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-07-07 15:08:17 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-07-07 15:08:17 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 15:08:17 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 15:08:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 15:08:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 15:08:17 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 15:08:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 15:08:17 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 15:08:17 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:17 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 15:08:17 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 15:08:17 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 15:08:17 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:17 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:17 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 15:08:17 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 15:08:17 [http-nio-8080-exec-10] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 15:08:17 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 15:08:17 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:17 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 15:08:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 15:08:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 15:08:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 15:08:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 15:08:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 15:08:18 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 15:08:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 15:08:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:08:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:08:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:08:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 15:08:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 15:08:29 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 15:08:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 15:08:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 15:08:29 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 15:08:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 15:08:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 15:08:29 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 15:08:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 15:08:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 15:08:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 15:08:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 15:08:29 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:29 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:29 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:29 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 15:08:29 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 15:08:29 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 15:08:29 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 15:08:29 [http-nio-8080-exec-9] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 15:08:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 15:08:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 15:08:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 15:08:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 15:08:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 15:08:29 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:08:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 15:08:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 15:08:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:08:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:08:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:08:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 15:09:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/statistics
2025-07-07 15:09:27 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:09:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/statistics
2025-07-07 15:09:27 [http-nio-8080-exec-1] INFO  c.t.f.Controller.SinhVienController - Getting student statistics
2025-07-07 15:09:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-07 15:09:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:09:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:09:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:09:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:10:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/statistics
2025-07-07 15:10:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:10:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/statistics
2025-07-07 15:10:08 [http-nio-8080-exec-7] INFO  c.t.f.Controller.SinhVienController - Getting student statistics
2025-07-07 15:10:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-07-07 15:10:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:10:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:10:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:10:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:10:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-07-07 15:10:20 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:10:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-07-07 15:10:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-07-07 15:10:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-07-07 15:10:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-07-07 15:10:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-07-07 15:10:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-07-07 15:10:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-07-07 15:10:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-07-07 15:10:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-07-07 15:10:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-07-07 15:10:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-07-07 15:10:20 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:10:20 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:10:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:10:20 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:10:20 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:10:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-07-07 15:10:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-07-07 15:10:20 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:10:20 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:10:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-07-07 15:10:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-07-07 15:10:20 [http-nio-8080-exec-4] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-07-07 15:10:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-07-07 15:10:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-07-07 15:10:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-07-07 15:10:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-07-07 15:10:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-07-07 15:10:20 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@47d93c15, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5FAFA01E110D321DF4034468AA51172D], Granted Authorities=[ROLE_ADMIN]]]
2025-07-07 15:10:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-07-07 15:10:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-07-07 15:10:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:10:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:10:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-07-07 15:10:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-07-07 15:33:53 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24.0.1 with PID 54254 (/home/loki/Desktop/face-attendance/target/classes started by loki in /home/loki/Desktop/face-attendance)
2025-07-07 15:33:53 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-07-07 15:33:53 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-07 15:33:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 15:33:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 20 JPA repository interfaces.
2025-07-07 15:33:54 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-07 15:33:54 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-07 15:33:54 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-07 15:33:54 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-07-07 15:33:54 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-07 15:33:54 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1197 ms
2025-07-07 15:33:55 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 15:33:55 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 15:33:55 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 15:33:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Starting...
2025-07-07 15:33:55 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-20 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5c23e5be
2025-07-07 15:33:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Start completed.
2025-07-07 15:33:55 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-07-07 15:33:55 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-20)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-07 15:33:55 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 15:33:55 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 15:33:56 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 15:33:56 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-07-07 15:33:57 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 15:33:57 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-07-07 15:33:57 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-07 15:33:58 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-07 15:33:59 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-07 15:33:59 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-07 15:33:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-07 15:33:59 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 6.02 seconds (process running for 1939.614)
2025-07-07 15:33:59 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 15:33:59 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-07 15:34:00 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 3 class path changes (3 additions, 0 deletions, 0 modifications)
2025-07-07 15:34:00 [Thread-78] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-07 15:34:00 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-07-07 15:34:00 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-07 15:34:00 [Thread-78] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-07 15:34:00 [Thread-78] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 15:34:00 [Thread-78] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Shutdown initiated...
2025-07-07 15:34:00 [Thread-78] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Shutdown completed.
2025-07-07 15:34:01 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24.0.1 with PID 54254 (/home/loki/Desktop/face-attendance/target/classes started by loki in /home/loki/Desktop/face-attendance)
2025-07-07 15:34:01 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-07-07 15:34:01 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-07 15:34:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 15:34:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 20 JPA repository interfaces.
2025-07-07 15:34:01 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-07 15:34:01 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-07 15:34:01 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-07 15:34:01 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-07-07 15:34:01 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-07 15:34:01 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 900 ms
2025-07-07 15:34:02 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 15:34:02 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 15:34:02 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 15:34:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Starting...
2025-07-07 15:34:02 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-21 - Added connection com.mysql.cj.jdbc.ConnectionImpl@329fef49
2025-07-07 15:34:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Start completed.
2025-07-07 15:34:02 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-07-07 15:34:02 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-21)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-07 15:34:02 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 15:34:02 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 15:34:03 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 15:34:03 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-07-07 15:34:04 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 15:34:04 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: /home/loki/Desktop/face-attendance/extract_wrapper.py
2025-07-07 15:34:04 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: /home/loki/Desktop/face-attendance/run_extraction.sh
2025-07-07 15:34:04 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: /home/loki/Desktop/face-attendance
2025-07-07 15:34:04 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-07-07 15:34:04 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-07 15:34:05 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-07 15:34:06 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-07 15:34:06 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-07 15:34:06 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-07 15:34:06 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 5.132 seconds (process running for 1946.344)
2025-07-07 15:34:06 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 15:34:06 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-07 16:04:04 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24.0.1 with PID 54254 (/home/loki/Desktop/face-attendance/target/classes started by loki in /home/loki/Desktop/face-attendance)
2025-07-07 16:04:04 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-07-07 16:04:04 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-07 16:04:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 16:04:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 20 JPA repository interfaces.
2025-07-07 16:04:05 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-07 16:04:05 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-07 16:04:05 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-07 16:04:05 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-07-07 16:04:05 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-07 16:04:05 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 655 ms
2025-07-07 16:04:05 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 16:04:05 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 16:04:05 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 16:04:05 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-24 - Starting...
2025-07-07 16:04:05 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-24 - Added connection com.mysql.cj.jdbc.ConnectionImpl@53197b28
2025-07-07 16:04:05 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-24 - Start completed.
2025-07-07 16:04:05 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-07-07 16:04:05 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-24)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-07 16:04:06 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 16:04:06 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 16:04:06 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 16:04:06 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-07-07 16:04:07 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 16:04:07 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: /home/loki/Desktop/face-attendance/extract_wrapper.py
2025-07-07 16:04:07 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: /home/loki/Desktop/face-attendance/run_extraction.sh
2025-07-07 16:04:07 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: /home/loki/Desktop/face-attendance
2025-07-07 16:04:07 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-07-07 16:04:08 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-07 16:04:08 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-07 16:04:09 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-07 16:04:09 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-07 16:04:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-07 16:04:09 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 4.473 seconds (process running for 3749.573)
2025-07-07 16:04:09 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-07-07 16:04:09 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-07 16:04:10 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-07 16:04:10 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-07 16:04:10 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 21 ms
2025-07-07 16:04:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/statistics
2025-07-07 16:04:10 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 16:04:10 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/api/sinhvien/statistics?continue to session
2025-07-07 16:04:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-07-07 16:04:10 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-07 16:04:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-07-07 16:04:10 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-07-07 16:04:10 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-07-07 16:04:10 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-07-07 16:04:10 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-07-07 16:04:10 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Showing login page
2025-07-07 16:04:13 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 3 class path changes (1 addition, 0 deletions, 2 modifications)
2025-07-07 16:04:13 [Thread-94] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-07 16:04:13 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-07-07 16:04:13 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-07 16:04:13 [Thread-94] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-07 16:04:13 [Thread-94] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 16:04:13 [Thread-94] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-24 - Shutdown initiated...
2025-07-07 16:04:13 [Thread-94] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-24 - Shutdown completed.
2025-07-07 16:04:14 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24.0.1 with PID 54254 (/home/loki/Desktop/face-attendance/target/classes started by loki in /home/loki/Desktop/face-attendance)
2025-07-07 16:04:14 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-07-07 16:04:14 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-07 16:04:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 16:04:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 58 ms. Found 20 JPA repository interfaces.
2025-07-07 16:04:15 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-07 16:04:15 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-07 16:04:15 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-07 16:04:15 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-07-07 16:04:15 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-07 16:04:15 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1450 ms
2025-07-07 16:04:16 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 16:04:16 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 16:04:16 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 16:04:16 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-25 - Starting...
2025-07-07 16:04:16 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-25 - Added connection com.mysql.cj.jdbc.ConnectionImpl@34e71b2d
2025-07-07 16:04:16 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-25 - Start completed.
2025-07-07 16:04:16 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-07-07 16:04:16 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-25)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-07 16:04:16 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 16:04:16 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 16:04:17 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 16:04:17 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-07-07 16:04:18 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 16:04:18 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: /home/loki/Desktop/face-attendance/extract_wrapper.py
2025-07-07 16:04:18 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: /home/loki/Desktop/face-attendance/run_extraction.sh
2025-07-07 16:04:18 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: /home/loki/Desktop/face-attendance
2025-07-07 16:04:18 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-07-07 16:04:19 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-07 16:04:19 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
